{
  "hash": "17b2094e274f0f1e193412288ed8c6ad",
  "result": {
    "markdown": "---\ntitle: \"Take-Home Ex 02_Tuna\"\ndate-modified: \"2023-05-22\"\nexecute:\n  echo: true\n  eval: true\n  warning: false\n  freeze: true\neditor: visual\n---\n\n::: {.cell}\n\n```{.r .cell-code}\npacman::p_load(jsonlite, igraph, tidygraph, ggraph, \n               visNetwork, lubridate, clock,\n               tidyverse, graphlayouts)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nMC2tuna <- fromJSON(\"data/tuna.json\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nMC2tuna_nodes <- (MC2tuna$nodes) %>%\n  select(id, shpcountry , rcvcountry)\n```\n:::\n\n\nRemove \"NA\" values\n\n::: {.cell}\n\n```{.r .cell-code}\n# MC2tuna_nodes1 <- MC2tuna_nodes\n# MC2tuna_nodes1 %>% drop_na(c(shpcountry, rcvcountry))\n# MC2tuna_nodes1\n\n# Remove rows with \"NA\" values\n#MC2tuna_nodes1 <- MC2tuna_nodes[complete.cases(MC2tuna_nodes), ]\n\n#MC2tuna_nodes1\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nMC2tuna_edges  <- as_tibble(MC2tuna$links) %>%\n  select(source, target, arrivaldate, hscode, valueofgoods_omu)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nMC2tuna_edges1 <- MC2tuna_edges\nMC2tuna_edges1$arrivaldate <- format(as.Date(MC2tuna_edges1$arrivaldate), \"%d/%m/%Y\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nMC2tuna_edges1 <- MC2tuna_edges1 %>%\n  mutate(arrivaldate = dmy(arrivaldate)) %>%\n  mutate(Weekday = wday(arrivaldate,\n                        label = TRUE,\n                        abbr = FALSE))\n\nglimpse(MC2tuna_edges1)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 314\nColumns: 6\n$ source           <chr> \"Andhra Pradesh  Sp Worldwide\", \"Andhra Pradesh  Sp W…\n$ target           <chr> \"Jharkhand Sea  S.p.A. United\", \"Jharkhand Sea  S.p.A…\n$ arrivaldate      <date> 2034-09-21, 2034-08-30, 2034-08-19, 2034-09-21, 2034…\n$ hscode           <int> 840999, 846820, 220300, 220300, 847989, 441600, 85044…\n$ valueofgoods_omu <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…\n$ Weekday          <ord> Thursday, Wednesday, Saturday, Thursday, Saturday, Sa…\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nMC2tuna_edges1_agg <- MC2tuna_edges1 %>%\n  #filter(MainSubject == \"Work related\") %>%\n  group_by(source, target, Weekday) %>%\n    summarise(Weight = n()) %>%\n  filter(source!=target) %>%\n  filter(Weight > 1) %>%\n  ungroup()\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nMC2tuna_graph <- tbl_graph(nodes = MC2tuna_nodes,\n                           edges = MC2tuna_edges1_agg, \n                           directed = TRUE)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nMC2tuna_graph\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tbl_graph: 29 nodes and 31 edges\n#\n# A directed acyclic multigraph with 8 components\n#\n# A tibble: 29 × 3\n  id                                            shpcountry rcvcountry\n  <chr>                                         <chr>      <chr>     \n1 Andhra Pradesh  Sp Worldwide                  Utoporiana <NA>      \n2 Jharkhand Sea  S.p.A. United                  <NA>       -27       \n3 Dutch Mussels Pic Marine biology              Rio Isla   -27       \n4 Congo Rapids   Ltd. Corporation               <NA>       Azurionix \n5 Brisa Marina Surfboard AB Marine conservation -27        <NA>      \n6 Mar de la Felicidad Inc Motorboat             <NA>       -27       \n# ℹ 23 more rows\n#\n# A tibble: 31 × 4\n   from    to Weekday   Weight\n  <int> <int> <ord>      <int>\n1     1     2 Sunday        10\n2     1     2 Wednesday     21\n3     1     2 Thursday      26\n# ℹ 28 more rows\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggraph(MC2tuna_graph) +\n  geom_edge_link() +\n  geom_node_point()\n```\n\n::: {.cell-output-display}\n![](Tuna_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ng <- ggraph(MC2tuna_graph, \n            layout = \"nicely\") + \n  geom_edge_link(aes()) +\n  geom_node_point(aes(colour = id, \n                      size = 6))\n\ng + theme_graph()\n```\n\n::: {.cell-output-display}\n![](Tuna_files/figure-html/unnamed-chunk-12-1.png){width=1728}\n:::\n:::\n\n\nIn-betweeness check\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ng <- MC2tuna_graph %>%\n  mutate(betweenness_centrality = centrality_betweenness()) %>%\n  ggraph(layout = \"fr\") + \n  geom_edge_link(aes(width=Weight), \n                 alpha=0.2) +\n  scale_edge_width(range = c(0.1, 5)) +\n  geom_node_point(aes(colour = id,\n            size=betweenness_centrality))\ng + theme_graph()\n```\n\n::: {.cell-output-display}\n![](Tuna_files/figure-html/unnamed-chunk-13-1.png){width=1728}\n:::\n:::\n\n\nInteractive Network Diagram\n\nBefore we can plot the interactive network graph, we need to prepare the data model by using the code chunk below.\n\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nMC2tuna_edges1_aggregated <- MC2tuna_edges1 %>%\n  left_join(MC2tuna_nodes, by = c(\"source\" = \"id\")) %>%\n  rename(from = source) %>%\n  left_join(MC2tuna_nodes, by = c(\"target\" = \"id\")) %>%\n  rename(to = target) %>%\n  #filter(MainSubject == \"Work related\") %>%\n  group_by(from, to) %>%\n    summarise(weight = n()) %>%\n  filter(from!=to) %>%\n  filter(weight > 1) %>%\n  ungroup()\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nvisNetwork(MC2tuna_nodes, \n           MC2tuna_edges1_aggregated)\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"visNetwork html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-76d23ba57704d78f9360\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-76d23ba57704d78f9360\">{\"x\":{\"nodes\":{\"id\":[\"Andhra Pradesh  Sp Worldwide\",\"Jharkhand Sea  S.p.A. United\",\"Dutch Mussels Pic Marine biology\",\"Congo Rapids   Ltd. Corporation\",\"Brisa Marina Surfboard AB Marine conservation\",\"Mar de la Felicidad Inc Motorboat\",\"xiǎo xiā S.p.A. Deep-sea\",\"Caracola Azul Oyj &\",\"Faroe Islands Halibut Sea S.p.A. Distribution\",\"Senegal Coast  A/S Delivery\",\"Coastal Castaway GmbH & Co. KG\",\"Sea Breeze Marine biology\",\"ReefRider Foods Ltd. Corporation Family\",\"Angrapa Ltd. Liability Co Export\",\"Irish Sea  Salt spray\",\"Coral Cove BV Delivery\",\"Arunachal Pradesh s AS Abalone\",\"Caracola del Sol Services\",\"Icelandic Cod OJSC Services\",\"Greek Sea Bass LLC\",\"hǎi dǎn Corporation Wharf\",\"Orange River   Eel Company Shipping\",\"Tsha wamba S.A. de C.V.\",\"Saltwater Solitude N.V. International\",\"Joseph Limited Liability Company\",\"Mar del Paraíso Corporation Logistics\",\"Kilwa Coast  Coast NV Delivery\",\"Yu xian  SRL Industrial\",\"Kong zhong diao yu  Express Charter Boat \"],\"shpcountry\":[\"Utoporiana\",null,\"Rio Isla\",null,\"-27\",null,\"-27\",null,null,\"-27\",null,\"-27\",null,null,null,null,\"-27\",null,null,null,null,null,\"-27\",null,\"-27\",null,null,null,null],\"rcvcountry\":[null,\"-27\",\"-27\",\"Azurionix\",null,\"-27\",null,\"Oceanus\",\"Oceanus\",\"Oceanus\",\"-27\",null,\"-27\",\"-27\",\"-27\",\"Azurionix\",null,\"-27\",\"Oceanus\",\"Azurionix\",\"-27\",\"Oceanus\",null,\"-27\",null,\"Azurionix\",\"Azurionix\",\"-27\",\"-27\"]},\"edges\":{\"from\":[\"Andhra Pradesh  Sp Worldwide\",\"Arunachal Pradesh s AS Abalone\",\"Brisa Marina Surfboard AB Marine conservation\",\"Brisa Marina Surfboard AB Marine conservation\",\"Brisa Marina Surfboard AB Marine conservation\",\"Brisa Marina Surfboard AB Marine conservation\",\"Dutch Mussels Pic Marine biology\",\"Dutch Mussels Pic Marine biology\",\"Dutch Mussels Pic Marine biology\",\"Dutch Mussels Pic Marine biology\",\"Dutch Mussels Pic Marine biology\",\"Dutch Mussels Pic Marine biology\",\"Joseph Limited Liability Company\",\"Joseph Limited Liability Company\",\"Joseph Limited Liability Company\",\"Sea Breeze Marine biology\",\"Senegal Coast  A/S Delivery\",\"Tsha wamba S.A. de C.V.\",\"xiǎo xiā S.p.A. Deep-sea\",\"xiǎo xiā S.p.A. Deep-sea\",\"xiǎo xiā S.p.A. Deep-sea\"],\"to\":[\"Jharkhand Sea  S.p.A. United\",\"Caracola del Sol Services\",\"Coastal Castaway GmbH & Co. KG\",\"Icelandic Cod OJSC Services\",\"Mar de la Felicidad Inc Motorboat\",\"hǎi dǎn Corporation Wharf\",\"Angrapa Ltd. Liability Co Export\",\"Congo Rapids   Ltd. Corporation\",\"Coral Cove BV Delivery\",\"Kilwa Coast  Coast NV Delivery\",\"Orange River   Eel Company Shipping\",\"hǎi dǎn Corporation Wharf\",\"Mar del Paraíso Corporation Logistics\",\"Yu xian  SRL Industrial\",\"hǎi dǎn Corporation Wharf\",\"ReefRider Foods Ltd. Corporation Family\",\"Greek Sea Bass LLC\",\"Saltwater Solitude N.V. International\",\"Caracola Azul Oyj &\",\"Faroe Islands Halibut Sea S.p.A. Distribution\",\"Irish Sea  Salt spray\"],\"weight\":[104,7,2,11,8,9,6,12,8,6,8,5,7,4,6,20,4,20,4,6,10]},\"nodesToDataframe\":true,\"edgesToDataframe\":true,\"options\":{\"width\":\"100%\",\"height\":\"100%\",\"nodes\":{\"shape\":\"dot\"},\"manipulation\":{\"enabled\":false}},\"groups\":null,\"width\":null,\"height\":null,\"idselection\":{\"enabled\":false},\"byselection\":{\"enabled\":false},\"main\":null,\"submain\":null,\"footer\":null,\"background\":\"rgba(0, 0, 0, 0)\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\nPlot graph\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvisNetwork(MC2tuna_nodes,\n           MC2tuna_edges1_aggregated) %>%\n  visIgraphLayout(layout = \"layout_with_fr\") \n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"visNetwork html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-b727e0c1ab01e03999e7\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-b727e0c1ab01e03999e7\">{\"x\":{\"nodes\":{\"id\":[\"Andhra Pradesh  Sp Worldwide\",\"Jharkhand Sea  S.p.A. United\",\"Dutch Mussels Pic Marine biology\",\"Congo Rapids   Ltd. Corporation\",\"Brisa Marina Surfboard AB Marine conservation\",\"Mar de la Felicidad Inc Motorboat\",\"xiǎo xiā S.p.A. Deep-sea\",\"Caracola Azul Oyj &\",\"Faroe Islands Halibut Sea S.p.A. Distribution\",\"Senegal Coast  A/S Delivery\",\"Coastal Castaway GmbH & Co. KG\",\"Sea Breeze Marine biology\",\"ReefRider Foods Ltd. Corporation Family\",\"Angrapa Ltd. Liability Co Export\",\"Irish Sea  Salt spray\",\"Coral Cove BV Delivery\",\"Arunachal Pradesh s AS Abalone\",\"Caracola del Sol Services\",\"Icelandic Cod OJSC Services\",\"Greek Sea Bass LLC\",\"hǎi dǎn Corporation Wharf\",\"Orange River   Eel Company Shipping\",\"Tsha wamba S.A. de C.V.\",\"Saltwater Solitude N.V. International\",\"Joseph Limited Liability Company\",\"Mar del Paraíso Corporation Logistics\",\"Kilwa Coast  Coast NV Delivery\",\"Yu xian  SRL Industrial\",\"Kong zhong diao yu  Express Charter Boat \"],\"shpcountry\":[\"Utoporiana\",null,\"Rio Isla\",null,\"-27\",null,\"-27\",null,null,\"-27\",null,\"-27\",null,null,null,null,\"-27\",null,null,null,null,null,\"-27\",null,\"-27\",null,null,null,null],\"rcvcountry\":[null,\"-27\",\"-27\",\"Azurionix\",null,\"-27\",null,\"Oceanus\",\"Oceanus\",\"Oceanus\",\"-27\",null,\"-27\",\"-27\",\"-27\",\"Azurionix\",null,\"-27\",\"Oceanus\",\"Azurionix\",\"-27\",\"Oceanus\",null,\"-27\",null,\"Azurionix\",\"Azurionix\",\"-27\",\"-27\"],\"x\":[0.579495435378328,0.718284735828179,-0.313847923406235,-0.252633833684309,0.390919824988267,0.662587448023172,-0.228158143963216,-0.121393129309822,-0.43859019819324,0.947485824832271,0.28695354714533,-0.784793720019032,-0.881391439312307,-0.488097744579765,-0.133874001006372,-0.630621684973327,-1,-0.983100631236017,0.604183964295663,1,0.0928416745696534,-0.227188016659533,0.291230837259177,0.345376643789154,0.280347791355856,0.213776266811377,-0.5250504633319,0.536601722537656,-0.523381128577203],\"y\":[-0.509984487287404,-0.672083203852702,0.547179562809524,0.250310738025527,0.27799388087399,0.398120917478901,-0.769536215237607,-0.99527390535112,-0.87767918509973,-0.254061889082275,0.00773468458545734,-0.667909310637704,-0.484523129949649,0.80766832601195,-0.535462296023651,0.584394102592046,0.17326235057326,-0.0401840728669821,0.102785496637077,-0.0380312113812686,0.499973405740262,0.826205023762347,-0.795890416319733,-1,0.755642332417555,1,0.329928716019586,0.810917623702232,-0.242369417496141]},\"edges\":{\"from\":[\"Andhra Pradesh  Sp Worldwide\",\"Arunachal Pradesh s AS Abalone\",\"Brisa Marina Surfboard AB Marine conservation\",\"Brisa Marina Surfboard AB Marine conservation\",\"Brisa Marina Surfboard AB Marine conservation\",\"Brisa Marina Surfboard AB Marine conservation\",\"Dutch Mussels Pic Marine biology\",\"Dutch Mussels Pic Marine biology\",\"Dutch Mussels Pic Marine biology\",\"Dutch Mussels Pic Marine biology\",\"Dutch Mussels Pic Marine biology\",\"Dutch Mussels Pic Marine biology\",\"Joseph Limited Liability Company\",\"Joseph Limited Liability Company\",\"Joseph Limited Liability Company\",\"Sea Breeze Marine biology\",\"Senegal Coast  A/S Delivery\",\"Tsha wamba S.A. de C.V.\",\"xiǎo xiā S.p.A. Deep-sea\",\"xiǎo xiā S.p.A. Deep-sea\",\"xiǎo xiā S.p.A. Deep-sea\"],\"to\":[\"Jharkhand Sea  S.p.A. United\",\"Caracola del Sol Services\",\"Coastal Castaway GmbH & Co. KG\",\"Icelandic Cod OJSC Services\",\"Mar de la Felicidad Inc Motorboat\",\"hǎi dǎn Corporation Wharf\",\"Angrapa Ltd. Liability Co Export\",\"Congo Rapids   Ltd. Corporation\",\"Coral Cove BV Delivery\",\"Kilwa Coast  Coast NV Delivery\",\"Orange River   Eel Company Shipping\",\"hǎi dǎn Corporation Wharf\",\"Mar del Paraíso Corporation Logistics\",\"Yu xian  SRL Industrial\",\"hǎi dǎn Corporation Wharf\",\"ReefRider Foods Ltd. Corporation Family\",\"Greek Sea Bass LLC\",\"Saltwater Solitude N.V. International\",\"Caracola Azul Oyj &\",\"Faroe Islands Halibut Sea S.p.A. Distribution\",\"Irish Sea  Salt spray\"],\"weight\":[104,7,2,11,8,9,6,12,8,6,8,5,7,4,6,20,4,20,4,6,10]},\"nodesToDataframe\":true,\"edgesToDataframe\":true,\"options\":{\"width\":\"100%\",\"height\":\"100%\",\"nodes\":{\"shape\":\"dot\",\"physics\":false},\"manipulation\":{\"enabled\":false},\"edges\":{\"smooth\":false},\"physics\":{\"stabilization\":false}},\"groups\":null,\"width\":null,\"height\":null,\"idselection\":{\"enabled\":false},\"byselection\":{\"enabled\":false},\"main\":null,\"submain\":null,\"footer\":null,\"background\":\"rgba(0, 0, 0, 0)\",\"igraphlayout\":{\"type\":\"square\"}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n\nDefine Group\n\n\n::: {.cell}\n\n```{.r .cell-code}\nGAStech_nodes <- MC2tuna_nodes %>%\n  rename(group = id) \n```\n:::\n\n\n\nPlot graph\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvisNetwork(MC2tuna_nodes,\n           MC2tuna_edges1_aggregated) %>%\n  visIgraphLayout(layout = \"layout_with_fr\") %>%\n  visLegend() %>%\n  #visNodes(color = list(background = \"id\")) %>%\n  visLayout(randomSeed = 123)\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"visNetwork html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-989f9aee138e61e2d2df\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-989f9aee138e61e2d2df\">{\"x\":{\"nodes\":{\"id\":[\"Andhra Pradesh  Sp Worldwide\",\"Jharkhand Sea  S.p.A. United\",\"Dutch Mussels Pic Marine biology\",\"Congo Rapids   Ltd. Corporation\",\"Brisa Marina Surfboard AB Marine conservation\",\"Mar de la Felicidad Inc Motorboat\",\"xiǎo xiā S.p.A. Deep-sea\",\"Caracola Azul Oyj &\",\"Faroe Islands Halibut Sea S.p.A. Distribution\",\"Senegal Coast  A/S Delivery\",\"Coastal Castaway GmbH & Co. KG\",\"Sea Breeze Marine biology\",\"ReefRider Foods Ltd. Corporation Family\",\"Angrapa Ltd. Liability Co Export\",\"Irish Sea  Salt spray\",\"Coral Cove BV Delivery\",\"Arunachal Pradesh s AS Abalone\",\"Caracola del Sol Services\",\"Icelandic Cod OJSC Services\",\"Greek Sea Bass LLC\",\"hǎi dǎn Corporation Wharf\",\"Orange River   Eel Company Shipping\",\"Tsha wamba S.A. de C.V.\",\"Saltwater Solitude N.V. International\",\"Joseph Limited Liability Company\",\"Mar del Paraíso Corporation Logistics\",\"Kilwa Coast  Coast NV Delivery\",\"Yu xian  SRL Industrial\",\"Kong zhong diao yu  Express Charter Boat \"],\"shpcountry\":[\"Utoporiana\",null,\"Rio Isla\",null,\"-27\",null,\"-27\",null,null,\"-27\",null,\"-27\",null,null,null,null,\"-27\",null,null,null,null,null,\"-27\",null,\"-27\",null,null,null,null],\"rcvcountry\":[null,\"-27\",\"-27\",\"Azurionix\",null,\"-27\",null,\"Oceanus\",\"Oceanus\",\"Oceanus\",\"-27\",null,\"-27\",\"-27\",\"-27\",\"Azurionix\",null,\"-27\",\"Oceanus\",\"Azurionix\",\"-27\",\"Oceanus\",null,\"-27\",null,\"Azurionix\",\"Azurionix\",\"-27\",\"-27\"],\"x\":[0.269531253300068,0.470025729448197,-0.221213177452952,-0.221561774711006,0.120277239719004,0.0497575439183127,-0.332493484275626,-0.570858587132436,-0.181583573006523,0.669812821029419,0.375631176368468,0.982946787021602,1,0.0329848108820145,-0.171728297990118,0.0659185367859427,0.734367466569838,0.603911925633518,0.363311527643403,0.872477756469894,-0.20150862244458,-0.517245424742053,-1,-0.9015428641174,-0.531137983581064,-0.808599557200932,-0.485592784451391,-0.581520136812882,0.962109053021336],\"y\":[-0.907656647115169,-0.904279144186835,0.707693927669048,1,0.089610837050963,-0.182575724597973,-0.813822928916162,-0.762824290020456,-1,-0.542086900853095,0.231228514311866,-0.16266040789878,0.0445926597072814,0.924691142281163,-0.636308584321051,0.65915761794687,0.706466700832168,0.8700833701653,-0.0920443998102555,-0.582106387025834,0.308592833823683,0.622355871610173,-0.201097527467556,-0.401064689869201,0.170923466841526,0.249109366108564,0.873469744750477,-0.0881879142455176,0.406556125233035]},\"edges\":{\"from\":[\"Andhra Pradesh  Sp Worldwide\",\"Arunachal Pradesh s AS Abalone\",\"Brisa Marina Surfboard AB Marine conservation\",\"Brisa Marina Surfboard AB Marine conservation\",\"Brisa Marina Surfboard AB Marine conservation\",\"Brisa Marina Surfboard AB Marine conservation\",\"Dutch Mussels Pic Marine biology\",\"Dutch Mussels Pic Marine biology\",\"Dutch Mussels Pic Marine biology\",\"Dutch Mussels Pic Marine biology\",\"Dutch Mussels Pic Marine biology\",\"Dutch Mussels Pic Marine biology\",\"Joseph Limited Liability Company\",\"Joseph Limited Liability Company\",\"Joseph Limited Liability Company\",\"Sea Breeze Marine biology\",\"Senegal Coast  A/S Delivery\",\"Tsha wamba S.A. de C.V.\",\"xiǎo xiā S.p.A. Deep-sea\",\"xiǎo xiā S.p.A. Deep-sea\",\"xiǎo xiā S.p.A. Deep-sea\"],\"to\":[\"Jharkhand Sea  S.p.A. United\",\"Caracola del Sol Services\",\"Coastal Castaway GmbH & Co. KG\",\"Icelandic Cod OJSC Services\",\"Mar de la Felicidad Inc Motorboat\",\"hǎi dǎn Corporation Wharf\",\"Angrapa Ltd. Liability Co Export\",\"Congo Rapids   Ltd. Corporation\",\"Coral Cove BV Delivery\",\"Kilwa Coast  Coast NV Delivery\",\"Orange River   Eel Company Shipping\",\"hǎi dǎn Corporation Wharf\",\"Mar del Paraíso Corporation Logistics\",\"Yu xian  SRL Industrial\",\"hǎi dǎn Corporation Wharf\",\"ReefRider Foods Ltd. Corporation Family\",\"Greek Sea Bass LLC\",\"Saltwater Solitude N.V. International\",\"Caracola Azul Oyj &\",\"Faroe Islands Halibut Sea S.p.A. Distribution\",\"Irish Sea  Salt spray\"],\"weight\":[104,7,2,11,8,9,6,12,8,6,8,5,7,4,6,20,4,20,4,6,10]},\"nodesToDataframe\":true,\"edgesToDataframe\":true,\"options\":{\"width\":\"100%\",\"height\":\"100%\",\"nodes\":{\"shape\":\"dot\",\"physics\":false},\"manipulation\":{\"enabled\":false},\"edges\":{\"smooth\":false},\"physics\":{\"stabilization\":false},\"layout\":{\"randomSeed\":123}},\"groups\":null,\"width\":null,\"height\":null,\"idselection\":{\"enabled\":false},\"byselection\":{\"enabled\":false},\"main\":null,\"submain\":null,\"footer\":null,\"background\":\"rgba(0, 0, 0, 0)\",\"igraphlayout\":{\"type\":\"square\"},\"legend\":{\"width\":0.2,\"useGroups\":true,\"position\":\"left\",\"ncol\":1,\"stepX\":100,\"stepY\":100,\"zoom\":true}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nvisNetwork(MC2tuna_nodes,\n           MC2tuna_edges1_aggregated) %>%\n  visIgraphLayout(layout = \"layout_with_fr\") %>%\n  visOptions(highlightNearest = TRUE,\n             nodesIdSelection = TRUE) %>%\n  visLegend() %>%\n  visLayout(randomSeed = 123)\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"visNetwork html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-84eaa941a36a02a070b0\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-84eaa941a36a02a070b0\">{\"x\":{\"nodes\":{\"id\":[\"Andhra Pradesh  Sp Worldwide\",\"Jharkhand Sea  S.p.A. United\",\"Dutch Mussels Pic Marine biology\",\"Congo Rapids   Ltd. Corporation\",\"Brisa Marina Surfboard AB Marine conservation\",\"Mar de la Felicidad Inc Motorboat\",\"xiǎo xiā S.p.A. Deep-sea\",\"Caracola Azul Oyj &\",\"Faroe Islands Halibut Sea S.p.A. Distribution\",\"Senegal Coast  A/S Delivery\",\"Coastal Castaway GmbH & Co. KG\",\"Sea Breeze Marine biology\",\"ReefRider Foods Ltd. Corporation Family\",\"Angrapa Ltd. Liability Co Export\",\"Irish Sea  Salt spray\",\"Coral Cove BV Delivery\",\"Arunachal Pradesh s AS Abalone\",\"Caracola del Sol Services\",\"Icelandic Cod OJSC Services\",\"Greek Sea Bass LLC\",\"hǎi dǎn Corporation Wharf\",\"Orange River   Eel Company Shipping\",\"Tsha wamba S.A. de C.V.\",\"Saltwater Solitude N.V. International\",\"Joseph Limited Liability Company\",\"Mar del Paraíso Corporation Logistics\",\"Kilwa Coast  Coast NV Delivery\",\"Yu xian  SRL Industrial\",\"Kong zhong diao yu  Express Charter Boat \"],\"shpcountry\":[\"Utoporiana\",null,\"Rio Isla\",null,\"-27\",null,\"-27\",null,null,\"-27\",null,\"-27\",null,null,null,null,\"-27\",null,null,null,null,null,\"-27\",null,\"-27\",null,null,null,null],\"rcvcountry\":[null,\"-27\",\"-27\",\"Azurionix\",null,\"-27\",null,\"Oceanus\",\"Oceanus\",\"Oceanus\",\"-27\",null,\"-27\",\"-27\",\"-27\",\"Azurionix\",null,\"-27\",\"Oceanus\",\"Azurionix\",\"-27\",\"Oceanus\",null,\"-27\",null,\"Azurionix\",\"Azurionix\",\"-27\",\"-27\"],\"x\":[0.217974403938988,-0.00997556463909943,0.689249750823725,0.39067802485201,0.176617700235931,-0.0426404615853566,-0.858388773402527,-1,-0.887421947935609,-0.630181103507743,-0.102263977939436,0.161363097505915,0.379560485009211,0.988198266450849,-0.631480747226316,0.805225874883731,-0.316051750002813,-0.186550854862676,0.208890199460515,-0.45816733200295,0.53773529274612,0.936912382108914,-0.73427439546449,-0.831832514679628,0.737484218439197,1,0.527180051827927,0.722529301950181,-0.341291964570708],\"y\":[-1,-0.994404312462653,0.250612591814237,0.281035748057805,-0.267699266388883,-0.0748246394768008,-0.129459628480987,0.0647675085005717,-0.363100843938159,-0.710055205936572,-0.396895262802374,0.991940370548392,0.978973889499189,0.339934044852623,-0.030608151104392,0.54769809010067,0.487204076577275,0.659475067156918,-0.54033917014828,-0.834985864088148,-0.130432414738455,0.0764333927061669,0.68070272396136,0.490208692132781,-0.410616469923883,-0.432493652200531,0.520412705654466,-0.678795232438915,1],\"label\":[\"Andhra Pradesh  Sp Worldwide\",\"Jharkhand Sea  S.p.A. United\",\"Dutch Mussels Pic Marine biology\",\"Congo Rapids   Ltd. Corporation\",\"Brisa Marina Surfboard AB Marine conservation\",\"Mar de la Felicidad Inc Motorboat\",\"xiǎo xiā S.p.A. Deep-sea\",\"Caracola Azul Oyj &\",\"Faroe Islands Halibut Sea S.p.A. Distribution\",\"Senegal Coast  A/S Delivery\",\"Coastal Castaway GmbH & Co. KG\",\"Sea Breeze Marine biology\",\"ReefRider Foods Ltd. Corporation Family\",\"Angrapa Ltd. Liability Co Export\",\"Irish Sea  Salt spray\",\"Coral Cove BV Delivery\",\"Arunachal Pradesh s AS Abalone\",\"Caracola del Sol Services\",\"Icelandic Cod OJSC Services\",\"Greek Sea Bass LLC\",\"hǎi dǎn Corporation Wharf\",\"Orange River   Eel Company Shipping\",\"Tsha wamba S.A. de C.V.\",\"Saltwater Solitude N.V. International\",\"Joseph Limited Liability Company\",\"Mar del Paraíso Corporation Logistics\",\"Kilwa Coast  Coast NV Delivery\",\"Yu xian  SRL Industrial\",\"Kong zhong diao yu  Express Charter Boat \"]},\"edges\":{\"from\":[\"Andhra Pradesh  Sp Worldwide\",\"Arunachal Pradesh s AS Abalone\",\"Brisa Marina Surfboard AB Marine conservation\",\"Brisa Marina Surfboard AB Marine conservation\",\"Brisa Marina Surfboard AB Marine conservation\",\"Brisa Marina Surfboard AB Marine conservation\",\"Dutch Mussels Pic Marine biology\",\"Dutch Mussels Pic Marine biology\",\"Dutch Mussels Pic Marine biology\",\"Dutch Mussels Pic Marine biology\",\"Dutch Mussels Pic Marine biology\",\"Dutch Mussels Pic Marine biology\",\"Joseph Limited Liability Company\",\"Joseph Limited Liability Company\",\"Joseph Limited Liability Company\",\"Sea Breeze Marine biology\",\"Senegal Coast  A/S Delivery\",\"Tsha wamba S.A. de C.V.\",\"xiǎo xiā S.p.A. Deep-sea\",\"xiǎo xiā S.p.A. Deep-sea\",\"xiǎo xiā S.p.A. Deep-sea\"],\"to\":[\"Jharkhand Sea  S.p.A. United\",\"Caracola del Sol Services\",\"Coastal Castaway GmbH & Co. KG\",\"Icelandic Cod OJSC Services\",\"Mar de la Felicidad Inc Motorboat\",\"hǎi dǎn Corporation Wharf\",\"Angrapa Ltd. Liability Co Export\",\"Congo Rapids   Ltd. Corporation\",\"Coral Cove BV Delivery\",\"Kilwa Coast  Coast NV Delivery\",\"Orange River   Eel Company Shipping\",\"hǎi dǎn Corporation Wharf\",\"Mar del Paraíso Corporation Logistics\",\"Yu xian  SRL Industrial\",\"hǎi dǎn Corporation Wharf\",\"ReefRider Foods Ltd. Corporation Family\",\"Greek Sea Bass LLC\",\"Saltwater Solitude N.V. International\",\"Caracola Azul Oyj &\",\"Faroe Islands Halibut Sea S.p.A. Distribution\",\"Irish Sea  Salt spray\"],\"weight\":[104,7,2,11,8,9,6,12,8,6,8,5,7,4,6,20,4,20,4,6,10]},\"nodesToDataframe\":true,\"edgesToDataframe\":true,\"options\":{\"width\":\"100%\",\"height\":\"100%\",\"nodes\":{\"shape\":\"dot\",\"physics\":false},\"manipulation\":{\"enabled\":false},\"edges\":{\"smooth\":false},\"physics\":{\"stabilization\":false},\"layout\":{\"randomSeed\":123}},\"groups\":null,\"width\":null,\"height\":null,\"idselection\":{\"enabled\":true,\"style\":\"width: 150px; height: 26px\",\"useLabels\":true,\"main\":\"Select by id\"},\"byselection\":{\"enabled\":false,\"style\":\"width: 150px; height: 26px\",\"multiple\":false,\"hideColor\":\"rgba(200,200,200,0.5)\",\"highlight\":false},\"main\":null,\"submain\":null,\"footer\":null,\"background\":\"rgba(0, 0, 0, 0)\",\"igraphlayout\":{\"type\":\"square\"},\"highlight\":{\"enabled\":true,\"hoverNearest\":false,\"degree\":1,\"algorithm\":\"all\",\"hideColor\":\"rgba(200,200,200,0.5)\",\"labelOnly\":true},\"collapse\":{\"enabled\":false,\"fit\":false,\"resetHighlight\":true,\"clusterOptions\":null,\"keepCoord\":true,\"labelSuffix\":\"(cluster)\"},\"legend\":{\"width\":0.2,\"useGroups\":true,\"position\":\"left\",\"ncol\":1,\"stepX\":100,\"stepY\":100,\"zoom\":true}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n",
    "supporting": [
      "Tuna_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../../site_libs/htmlwidgets-1.6.2/htmlwidgets.js\"></script>\r\n<link href=\"../../site_libs/vis-9.1.0/vis-network.min.css\" rel=\"stylesheet\" />\r\n<script src=\"../../site_libs/vis-9.1.0/vis-network.min.js\"></script>\r\n<script src=\"../../site_libs/visNetwork-binding-2.1.2/visNetwork.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}