{
  "hash": "6e56f731367c6be7bcf3e85537594b53",
  "result": {
    "markdown": "---\ntitle: \"Take-Home Exercise 2\"\nauthor: \"Hin Phung\"\ndate: \"19 May 2023\"\ndate-modified: \"2023-05-26\"\nexecute:\n  echo: true\n  eval: true\n  warning: false\n  freeze: true\neditor: visual\n---\n\n\n\nOverview\n\nIntroduction\n\nThe country of Oceanus has sought FishEye International's help in identifying companies possibly engaged in illegal, unreported, and unregulated (IUU) fishing. FishEye's analysts had received import/export data for Oceanus' marine and fishing industries, but the data is incomplete. FishEye had subsequently transformed the trade data into a knowledge graph to help them understand the business relationships, including finding links that will stop IUU fishing and protect marine species.\n\nWe will address Question 1 of VAST challenge 2023 - To Use visual analytics to identify temporal patterns and categorise types of business relationship for individual entities and between entities in FishEye's knowledge graph.\n\nMethodology\n\nTo select and use different attributes to identify the interactions and relationship among companies and their attributes.\n\nData Preparation\n\nInstalling and loading of R packages\n\nThe code chunk below will be used to install and load the necessary R packages as follows:\n\n-   jsonlite:\n\n-   igraph: a package in R that provides\n\n-   tidygraph: a system\n\n-   ggraph: an extension o\n\n-   viznetwork: a package provides geoms for ggplot2 to repel overlapping text labels.\n\n-   lubridate: a package that provides\n\n-   clock: a package for\n\n-   tidyverse: a family of modern R packages specially designed to support data science, analysis and communication task including creating static statistical graphs.\n\n-   graphlayouts: a package that allows\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\npacman::p_load(jsonlite, igraph, tidygraph, ggraph, \n               visNetwork, lubridate, clock,\n               tidyverse, graphlayouts)\n```\n:::\n\n\nThe Data\n\nThe function fromJSON() of jsonlite package is used to import mc2_challenge_graph.json into R environment. The data comprises:\n\n\"nodes\" dataframe: 34576 observations of 4 variables: shpcountry, rcvcountry, dataset, id\n\n\"links\" daraframe with 5464378 observations of 9 variables: arrivaldate, hscodes, valueofgoods_omu, volumetsu, weightkg, dataset, source, target, valueofgoodusd\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nmc2_data <- fromJSON(\"data/mc2_challenge_graph.json\")\n```\n:::\n\n\nData Wrangling\n\nExtracting the nodes\n\nWe extract nodes data table from mc2_data list object and save the output in a tibble data frame object called mc2_nodes.\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nmc2_nodes <- as_tibble(mc2_data$nodes) %>%\n  select(id, shpcountry, rcvcountry)\n```\n:::\n\n\nExtracting the edges\n\nWe extract edges data table from mc2_data list object and save the output in a tibble data frame object called mc2_edges. Together with the nodes, the edges will be used to build and visualise the network graphs for our subsequent analysis. As part of the data wrangling, we will convert the format of data in \"ArrivalDate\" column to ymd date format, ans use this field to create a new attribute column \" Year\".\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nmc2_edges <- as_tibble(mc2_data$links) %>%\n  mutate(ArrivalDate = ymd(arrivaldate)) %>%\n  mutate(Year = year(ArrivalDate)) %>%\n  select(source, target, ArrivalDate, Year, hscode, valueofgoods_omu, \n         volumeteu, weightkg, valueofgoodsusd) %>% \n  distinct()\n```\n:::\n\n\nPreparation of edge data table\n\nWe will first filter hscodes that are relevant to seafood for the visual analysis. For example, codes with \"03XX\" refer to fish, crustaceans and molluscs etc. Codes with \"1504\" refer to animal fats and oils, those with \"1603\" to \"1605\" refers to preparation of fish and molluscus. \"2301\" ,which refers to meals and pellets of fish/crustaceans/molluscs, is also used. In addition, it is observed that many columns of the dataset have \"NA\" values, and they will not be used further.  We have also focus on those nodes with higher number of edges connections to target our analysis. \n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nhscodes_filtered <- c(\"0301\", \"0302\", \"0303\", \"0304\", \"0305\",\"0306\", \"0307\", \"0308\", \"0309\", \"1504\",\"1603\", \"1604\", \"1605\", \"2301\")\n\n\n#hscodes_filtered <- c(\"302100\", \"304100\", \"303100\", \"303910\", \"160414\",\"305400\", \"305200\", #\"306130\", \"306170\", \"306230\",\"306190\", \"160520\", \"307110\", \"307990\", \"307190\", \"160550\")\n\n\n#hscodes_filtered <- c(\"302100\", \"304100\", \"303100\", \"303910\", \"306130\", \"306140\", \"306210\", #\"306170\", \"306230\")\n\n\n\nmc2_edges_aggregated <- mc2_edges %>%\n  filter(substr(as.character(hscode), 1, 4) %in% hscodes_filtered) %>%\n  #filter(hscode %in% hscodes_filtered) %>%\n  group_by(source, target, hscode, Year) %>%\n    summarise(weights = n()) %>%\n  filter(source!=target) %>%\n  filter(weights > 80) %>%\n  ungroup()\n```\n:::\n\n\nPreparing nodes data\n\nInstead of using the nodes data table extracted from mc2_data, we will prepare a new nodes data table by using the source and target fields of mc2_edges_aggregated data table. This is necessary to ensure that the nodes in nodes data tables include all the source and target values.\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nid1 <- mc2_edges_aggregated %>%\n  select(source) %>%\n  rename(id = source)\nid2 <- mc2_edges_aggregated %>%\n  select(target) %>%\n  rename(id = target)\nmc2_nodes_extracted <- rbind(id1, id2) %>%\n  distinct()\n```\n:::\n\n\nBuilding the tidy graph data model\n\nThe following code chunk is used to create a tbl_graph object comprising of 196 nodes and 368 edges.\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nmc2_graph <- tbl_graph(nodes = mc2_nodes_extracted,\n                       edges = mc2_edges_aggregated,\n                       directed = TRUE)\n\nmc2_graph\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tbl_graph: 196 nodes and 368 edges\n#\n# A directed acyclic multigraph with 24 components\n#\n# A tibble: 196 × 1\n  id                              \n  <chr>                           \n1 Adair Salmon ОАО Family         \n2 Adriatic Tuna Seabass BV Transit\n3 Ancla del Mar Kga               \n4 Ancla del Mar Marine ecology    \n5 Angrapa S.A. de C.V.            \n6 Anthony Mudflat BV Holdings     \n# ℹ 190 more rows\n#\n# A tibble: 368 × 5\n   from    to hscode  Year weights\n  <int> <int> <chr>  <dbl>   <int>\n1     1   115 160414  2033     281\n2     2   116 160414  2029      89\n3     2   117 160414  2028      87\n# ℹ 365 more rows\n```\n:::\n:::\n\n\nVisualisation of the network graph\n\nThe network graphs from 2028 to 2034 are plotted for comparison in a facet.\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nggraph(mc2_graph,\n       layout = \"fr\") +\n  geom_edge_link(aes(width = weights, colour = Year), alpha=0.2) +\n  scale_edge_width(range = c(0.1, 5)) +\n  geom_node_point(aes(), size = 0.5) +\n  \n  facet_edges(~Year) +\n  theme_graph()\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex02_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\nVisualisation and Analysis of Betweenness Centrality\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\n##| fig-width: 150\n##| fig-height: 70\n\ng <- mc2_graph %>%\n  mutate(betweenness_centrality = centrality_betweenness()) %>%\n  #filter(betweenness_centrality > 0) %>%\n  ggraph(layout = \"fr\") + \n  geom_edge_link(aes(width=weights, colour = factor(Year)), \n                 alpha=0.2) +\n  scale_edge_width(range = c(0.1, 5)) +\n  geom_node_point(aes(size=betweenness_centrality, colour = centrality_betweenness())) +\n  geom_edge_link(arrow=arrow(length = unit (1, 'mm')))\n  \n  g + theme_graph() +\n    geom_node_text(aes(label = id), size = 1, repel=TRUE) +\n    geom_node_text(aes(label = round(betweenness_centrality, 2)), size = 2, repel = TRUE) +\n    ggtitle(\"Betweenness Centrality Plot\")\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex02_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n\nVisualisation and Analysis of In_degree and Out_degree Betweenness\n\nIt is useful to generate two separate plots to have a clearer visualisation of the interaction of the entities - the in_degree betweenness plot shows the measure of incomming edges to the node and conversely, the out_degree betweenness plot shows the measure of outgoing edges to other nodes.\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nlibrary(ggraph)\nlibrary(igraph)\n\n# Convert tidygraph to igraph object\nmc2_igraph <- as.igraph(mc2_graph)\n\n# Calculate in-degree centrality\nin_degree <- degree(mc2_igraph, mode = \"in\")\n\n# Calculate out-degree centrality\nout_degree <- degree(mc2_igraph, mode = \"out\")\n\n# Add in-degree and out-degree centrality as node attributes\nV(mc2_igraph)$in_degree <- in_degree\nV(mc2_igraph)$out_degree <- out_degree\n\n# Create separate plots for in-degree and out-degree\nplot_in_degree <- ggraph(mc2_graph, layout = \"fr\") +\n  geom_edge_link(aes(width = weights, colour = factor(Year)), alpha = 0.2) +\n  scale_edge_width(range = c(0.1, 5)) +\n  geom_node_point(aes(size = in_degree, colour = in_degree)) +\n  geom_edge_link(arrow = arrow(length = unit(1, 'mm'))) +\n  theme_graph() +\n  geom_node_text(aes(label = id), size = 1, repel = TRUE) +\n  ggtitle(\"In-Degree Centrality Plot\")\n\nplot_out_degree <- ggraph(mc2_graph, layout = \"fr\") +\n  geom_edge_link(aes(width = weights, colour = factor(Year)), alpha = 0.2) +\n  scale_edge_width(range = c(0.1, 5)) +\n  geom_node_point(aes(size = out_degree, colour = out_degree)) +\n  geom_edge_link(arrow = arrow(length = unit(1, 'mm'))) +\n  theme_graph() +\n  geom_node_text(aes(label = id), size = 1, repel = TRUE) +\n  ggtitle(\"Out-Degree Centrality Plot\") \n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nplot_in_degree +\ngeom_node_text(aes(label = round(in_degree, 2)), size = 2, repel = TRUE) +\n  theme(legend.position = \"right\",\n        #legend.box = \"horizontal\",\n        legend.text = element_text(size = 6),\n        legend.key.size = unit(0.2, \"cm\"))\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex02_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nplot_out_degree +\ngeom_node_text(aes(label = round(out_degree, 2)), size = 2, repel = TRUE) +\n  theme(legend.position = \"right\",\n        #legend.box = \"horizontal\",\n        legend.text = element_text(size = 6),\n        legend.key.size = unit(0.2, \"cm\"))\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex02_files/figure-html/unnamed-chunk-12-1.png){width=672}\n:::\n:::\n\n\nVisualisation and Analysis of Closeness Centrality\n\nCloseness Centrality measures how central or influential a node is within a network by quantifying its proximity to other nodes. It assesses how quickly information can flow from a node to others in the network, based on the shortest paths between nodes.\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\n##| fig-width: 150\n##| fig-height: 70\n\ng <- mc2_graph %>%\n  mutate(closeness_centrality = centrality_closeness()) %>%\n  ggraph(layout = \"fr\") + \n  geom_edge_link(aes(width=weights, colour = factor(Year)), \n                 alpha=0.2) +\n  scale_edge_width(range = c(0.1, 5)) +\n  geom_node_point(aes(size=1, colour = centrality_closeness())) +\n  geom_edge_link(arrow=arrow(length = unit (1, 'mm')))\n  \n  g + theme_graph() +\n    geom_node_text(aes(label = id), size = 1, repel=TRUE) +\n    geom_node_text(aes(label = round(closeness_centrality, 2)), size = 3, repel = TRUE) +\n    ggtitle(\"Closeness Centrality Plot\") +\n    theme(legend.position = \"right\",\n        #legend.box = \"horizontal\",\n        legend.text = element_text(size = 6),\n        legend.key.size = unit(0.2, \"cm\"))\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex02_files/figure-html/unnamed-chunk-13-1.png){width=672}\n:::\n:::\n\n\nVisualisation and Analysis of Eigenvector Centrality\n\nEigenvector Centrality is a measure of the influence or importance of a node in a network based on the concept of eigenvectors. It assigns a centrality score to each node, taking into account both the node's own importance and the importance of its neighboring nodes.\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\n##| fig-height: 120\n\ng <- mc2_graph %>%\n  mutate(eigen_centrality = centrality_eigen()) %>%\n  ggraph(layout = \"fr\") + \n  geom_edge_link(aes(width=weights, colour = factor(Year)), \n                 alpha=0.2) +\n  scale_edge_width(range = c(0.1, 5)) +\n  geom_node_point(aes(size=eigen_centrality, colour = centrality_eigen())) +\n  geom_edge_link(arrow=arrow(length = unit (1, 'mm')))\n  \n  \n  #geom_node_text(aes(label = betweenness_centrality), vjust = 1.5, hjust = 1.5, size = 3) \n  #geom_node_text(aes(label = degree()), vjust = 1.5, hjust = 1.5, size = 3)\n  \n  g + theme_graph() +\n    geom_node_text(aes(label = id), size = 1, repel=TRUE) +\n    ggtitle(\"Eigenvalue Centrality Plot\") + \n    theme(legend.position = \"right\",\n        #legend.box = \"horizontal\",\n        legend.text = element_text(size = 6),\n        legend.key.size = unit(0.2, \"cm\"))\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex02_files/figure-html/unnamed-chunk-14-1.png){width=672}\n:::\n:::\n\n\nVisualisation and Analysis of Clustering Coefficient\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\n##| fig-height: 140\n\ng <- mc2_graph %>%\n  mutate(clustering_coefficient = transitivity(mc2_graph, type = \"local\")) %>%\n  ggraph(layout = \"fr\") + \n  geom_edge_link(aes(width = weights, colour = factor(Year)), alpha = 0.2) +\n  scale_edge_width(range = c(0.1, 5)) +\n  geom_node_point(aes(size = clustering_coefficient, colour = clustering_coefficient)) +\n  geom_edge_link(arrow = arrow(length = unit(1, 'mm'))) +\n  theme_graph() +\n  geom_node_text(aes(label = id), size = 1, repel = TRUE) +\n  ggtitle(\"Clustering Coefficient Plot\") \n  theme(legend.position = \"right\",\n        #legend.box = \"horizontal\",\n        legend.text = element_text(size = 5),\n        legend.key.size = unit(0.01, \"cm\"))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nList of 3\n $ legend.key.size: 'simpleUnit' num 0.01cm\n  ..- attr(*, \"unit\")= int 1\n $ legend.text    :List of 11\n  ..$ family       : NULL\n  ..$ face         : NULL\n  ..$ colour       : NULL\n  ..$ size         : num 5\n  ..$ hjust        : NULL\n  ..$ vjust        : NULL\n  ..$ angle        : NULL\n  ..$ lineheight   : NULL\n  ..$ margin       : NULL\n  ..$ debug        : NULL\n  ..$ inherit.blank: logi FALSE\n  ..- attr(*, \"class\")= chr [1:2] \"element_text\" \"element\"\n $ legend.position: chr \"right\"\n - attr(*, \"class\")= chr [1:2] \"theme\" \"gg\"\n - attr(*, \"complete\")= logi FALSE\n - attr(*, \"validate\")= logi TRUE\n```\n:::\n\n```{.r .cell-code  code-fold=\"true\"}\n  g\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex02_files/figure-html/unnamed-chunk-15-1.png){width=672}\n:::\n:::\n\n\n\n\nInteractive Network Diagram\n\n\n############################################################################################\n\nComparison of interactive network plots for years 2028 to 2030\n\nNetwork Graph for Year 2028\n\nWe will examine the network for the first 3 years from 2028 to 2030 using the interactive network visualization.\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nmc2_edges_2028_aggregated  <- mc2_edges_aggregated %>%\nrename(from = source) %>%\nrename(to = target) %>%\nfilter (Year == \"2028\") %>%  \nfilter(from!=to) %>%\nungroup()\n  \nedges_2028 <- mc2_edges_2028_aggregated\nnodes_2028 <- mc2_nodes_extracted %>%\n  filter(id %in% c(\"id\", edges_2028$from, edges_2028$to)) %>%\n  arrange(id)\n```\n:::\n\n\n\nPlot network graph for Year 2028\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\n# Generate palette colors\nnum_colors <- 196\ncolor_palette <- colorRampPalette(c(\"pink\", \"pink\"))(num_colors)\n\n# Assign colors to the \"color\" attribute in the node data\nmc2_nodes_extracted$color <- color_palette\n\n# Plot network graph\nvisNetwork(nodes_2028, edges_2028) %>%\n  visEdges(arrows = \"to\") %>%\n  visIgraphLayout(layout = \"layout_with_fr\") %>%\n  visOptions(highlightNearest = TRUE, nodesIdSelection = TRUE) %>%\n  visLegend() %>%\n  visLayout(randomSeed = 123)\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"visNetwork html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-dcca0b4b6cce959037d1\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-dcca0b4b6cce959037d1\">{\"x\":{\"nodes\":{\"id\":[\"-1203\",\"-1230\",\"-1417\",\"-4241\",\"-533\",\"Adriatic Tuna Seabass BV Transit\",\"Ancla del Mar Marine ecology\",\"Arena del Sol Incorporated Express\",\"Arunachal Pradesh s A/S Transport\",\"AtlanticAppetite Oyster  Ltd. Corporation Investment\",\"Bahía Azul Marine sanctuary\",\"Baltic Catch SE Solutions\",\"Caracola Azul Wharf Ltd. Corporation Forwading\",\"Caracola del Este Corporation Express\",\"Chhattisgarh   Marine ecology A/S Delivery\",\"Congo Basin  Ltd. Liability Co Holdings\",\"Costa de Coral SRL United\",\"Danish Plaice Swordfish AB Shipping\",\"Diao er  Limited Liability Company\",\"Estrella de la Costa AB Express\",\"Estrella de la Costa SRL\",\"Estrella del Mar A/S\",\"Estrella del Mar Ltd. Liability Co\",\"Estrella del Mar Tilapia Oyj Marine\",\"Fisherman's Best Marine conservation\",\"Fresh Wharf SRL Consulting\",\"Goa   Seaside Sp Overseas\",\"Gujarat   Tide NV Solutions\",\"Hohhot Ges.m.b.H. Marine biology\",\"Kong zhong diao yu  AG Transport\",\"Kong zhong diao yu  Ges.m.b.H.\",\"Konkan Coast  SRL Coral Reef\",\"LLC S.A. de C.V.\",\"Lake Tanganyika  Inc Jetty\",\"Lake Victoria Nile    GmbH & Co. KG Fish \",\"Mar de Cristalino Inc\",\"Mar de Sirenas Inc\",\"Mar del Este CJSC\",\"Mar del Paraíso Corporation Logistics\",\"Mar del Placer Sagl Solutions\",\"Marine Mermaids Incorporated Services\",\"Neptune's Harvest A/S Hijiki\",\"Neptune's Realm NV Navigation\",\"Niamh Limited Liability Company\",\"Náutica del Sol Brothers\",\"Ocean Quest Inc Marine ecology\",\"OceanicOrigin Foods Co Consulting\",\"Océano de Coral Corporation Marine conservation\",\"Olas del Mar N.V.\",\"Olas del Sur A/S Holdings\",\"Panope Limited Liability Company\",\"Pao gan SE Seal\",\"Playa del Tesoro OJSC\",\"Pregolya S.A. de C.V. Import\",\"Punjab s A/S Marine\",\"Rybachit Sagl and Son's\",\"SaltSea & Inc Carriers\",\"Sea Breezes GmbH & Co. KG Shark\",\"Sea Luxe Limited Liability Company Shipping\",\"SeaSelect Foods Salt spray\",\"SeaTree Ltd. Liability Co Holdings\",\"Seaside Summit SE Merchants\",\"Shou gan  Limited Liability Company\",\"Shou gan  Oyj Overseas\",\"Tripura  Pier N.V. Solutions\",\"Uttarakhand  Market Limited Liability Company Nautical\",\"Volga River LLC Enterprises\",\"Yu xian  SRL Industrial\",\"bǐ mù yú Sagl Distribution\",\"hǎi dǎn Corporation Wharf\",\"lǐyú GmbH & Co. KG Logistics\"],\"x\":[-0.569481880466477,0.782777798272529,-0.603354311827532,0.583317118797708,-0.153624766756844,0.297024393489171,-0.479263536733426,-0.53647042353953,1,-0.86340053264357,0.170083404992497,-0.636844161690703,-0.969203494164392,0.600228053315391,-0.877403295798843,-0.164770906877986,0.300908607814182,0.158255245420214,-0.186172672701496,-0.284768983346928,0.68302708767275,-0.513655817776494,-0.274847522598267,0.315775735477715,-0.391019761900956,-0.885406847446387,0.350198704756258,0.874979806164712,0.930380332360228,-0.881214686645883,0.771482219000432,0.95912360802848,0.496662623755294,0.122405084911591,0.16906465995818,0.813864626147117,-0.731075766105744,0.298009813360123,-0.510973371819534,-0.16620478899422,0.284855772625349,-0.0277414971786711,-0.341489674642092,-0.319142269417293,0.633863269551374,0.447579399071474,-0.155171476869282,-0.594876114174681,0.137729479363134,-1,-0.184876642089142,-0.632213782724449,-0.826551211524791,-0.065889080786496,-0.0582757793874169,-0.224907125977859,-0.589356308417934,-0.0866191410787972,0.212565222064738,0.304769752142811,0.811782822627744,0.835970024134839,0.55790957625506,0.261280793772515,-0.0494314473171671,0.776521444983616,0.579525244089131,-0.720094215560218,-0.591153387739204,0.42216872280543,0.280935876990333],\"y\":[-0.351858635295014,0.152042575950855,0.847770435714884,-0.0514726475665275,0.911670429688312,0.018366884404178,0.87922085702228,0.638458972551513,0.0634860599078244,0.152302639393489,0.610104454464447,-0.67809604270664,-0.148690049948615,-0.183612342674085,0.376882475031681,0.565004641926435,0.47471061647372,0.766664090324263,-0.0575391080495731,0.547324941055802,0.598817908225099,-0.890538557211312,0.949566350544438,-0.201150328076095,-0.90098930169017,-0.422248011959042,-0.418476835718756,0.563020594230365,-0.310293821002732,0.505555086795336,-0.658389549054616,-0.0549621090989808,-0.7865978790931,1,-0.950761203547074,-0.532558190553557,0.130068835565357,0.714896699023714,-0.651834206427374,-0.982461469490237,-0.988726567372945,0.985529150880093,0.193853001531735,-0.39558903096777,0.392009884612626,0.810226582970703,-0.602817677903433,0.103029653081521,0.243552120679331,-0.0246650977190471,-0.44969706556079,0.552466367574891,-0.53368890069223,-0.360028972808439,-0.0301661528008627,0.255644779219877,0.421832024745101,-0.726621128270453,-0.454438920439737,-0.720613300545096,-0.280052052255472,0.290396106747567,-0.580733954203997,0.911815638239728,-1,0.454110197123066,0.495313738989252,-0.184486852329574,-0.216311373199894,-0.622984079187003,0.246320766160771],\"label\":[\"-1203\",\"-1230\",\"-1417\",\"-4241\",\"-533\",\"Adriatic Tuna Seabass BV Transit\",\"Ancla del Mar Marine ecology\",\"Arena del Sol Incorporated Express\",\"Arunachal Pradesh s A/S Transport\",\"AtlanticAppetite Oyster  Ltd. Corporation Investment\",\"Bahía Azul Marine sanctuary\",\"Baltic Catch SE Solutions\",\"Caracola Azul Wharf Ltd. Corporation Forwading\",\"Caracola del Este Corporation Express\",\"Chhattisgarh   Marine ecology A/S Delivery\",\"Congo Basin  Ltd. Liability Co Holdings\",\"Costa de Coral SRL United\",\"Danish Plaice Swordfish AB Shipping\",\"Diao er  Limited Liability Company\",\"Estrella de la Costa AB Express\",\"Estrella de la Costa SRL\",\"Estrella del Mar A/S\",\"Estrella del Mar Ltd. Liability Co\",\"Estrella del Mar Tilapia Oyj Marine\",\"Fisherman's Best Marine conservation\",\"Fresh Wharf SRL Consulting\",\"Goa   Seaside Sp Overseas\",\"Gujarat   Tide NV Solutions\",\"Hohhot Ges.m.b.H. Marine biology\",\"Kong zhong diao yu  AG Transport\",\"Kong zhong diao yu  Ges.m.b.H.\",\"Konkan Coast  SRL Coral Reef\",\"LLC S.A. de C.V.\",\"Lake Tanganyika  Inc Jetty\",\"Lake Victoria Nile    GmbH & Co. KG Fish \",\"Mar de Cristalino Inc\",\"Mar de Sirenas Inc\",\"Mar del Este CJSC\",\"Mar del Paraíso Corporation Logistics\",\"Mar del Placer Sagl Solutions\",\"Marine Mermaids Incorporated Services\",\"Neptune's Harvest A/S Hijiki\",\"Neptune's Realm NV Navigation\",\"Niamh Limited Liability Company\",\"Náutica del Sol Brothers\",\"Ocean Quest Inc Marine ecology\",\"OceanicOrigin Foods Co Consulting\",\"Océano de Coral Corporation Marine conservation\",\"Olas del Mar N.V.\",\"Olas del Sur A/S Holdings\",\"Panope Limited Liability Company\",\"Pao gan SE Seal\",\"Playa del Tesoro OJSC\",\"Pregolya S.A. de C.V. Import\",\"Punjab s A/S Marine\",\"Rybachit Sagl and Son's\",\"SaltSea & Inc Carriers\",\"Sea Breezes GmbH & Co. KG Shark\",\"Sea Luxe Limited Liability Company Shipping\",\"SeaSelect Foods Salt spray\",\"SeaTree Ltd. Liability Co Holdings\",\"Seaside Summit SE Merchants\",\"Shou gan  Limited Liability Company\",\"Shou gan  Oyj Overseas\",\"Tripura  Pier N.V. Solutions\",\"Uttarakhand  Market Limited Liability Company Nautical\",\"Volga River LLC Enterprises\",\"Yu xian  SRL Industrial\",\"bǐ mù yú Sagl Distribution\",\"hǎi dǎn Corporation Wharf\",\"lǐyú GmbH & Co. KG Logistics\"]},\"edges\":{\"from\":[\"Adriatic Tuna Seabass BV Transit\",\"Adriatic Tuna Seabass BV Transit\",\"Ancla del Mar Marine ecology\",\"Arena del Sol Incorporated Express\",\"Arunachal Pradesh s A/S Transport\",\"Bahía Azul Marine sanctuary\",\"Baltic Catch SE Solutions\",\"Caracola del Este Corporation Express\",\"Chhattisgarh   Marine ecology A/S Delivery\",\"Costa de Coral SRL United\",\"Costa de Coral SRL United\",\"Danish Plaice Swordfish AB Shipping\",\"Diao er  Limited Liability Company\",\"Estrella de la Costa AB Express\",\"Estrella de la Costa SRL\",\"Estrella de la Costa SRL\",\"Estrella del Mar A/S\",\"Estrella del Mar Ltd. Liability Co\",\"Goa   Seaside Sp Overseas\",\"Goa   Seaside Sp Overseas\",\"Goa   Seaside Sp Overseas\",\"Gujarat   Tide NV Solutions\",\"Hohhot Ges.m.b.H. Marine biology\",\"LLC S.A. de C.V.\",\"Mar de Cristalino Inc\",\"Mar de Sirenas Inc\",\"Mar de Sirenas Inc\",\"Mar del Placer Sagl Solutions\",\"Marine Mermaids Incorporated Services\",\"Neptune's Harvest A/S Hijiki\",\"Neptune's Harvest A/S Hijiki\",\"Neptune's Realm NV Navigation\",\"Niamh Limited Liability Company\",\"Náutica del Sol Brothers\",\"Náutica del Sol Brothers\",\"Náutica del Sol Brothers\",\"Ocean Quest Inc Marine ecology\",\"OceanicOrigin Foods Co Consulting\",\"OceanicOrigin Foods Co Consulting\",\"Olas del Mar N.V.\",\"Olas del Sur A/S Holdings\",\"Playa del Tesoro OJSC\",\"Pregolya S.A. de C.V. Import\",\"SaltSea & Inc Carriers\",\"SeaSelect Foods Salt spray\",\"Seaside Summit SE Merchants\",\"Seaside Summit SE Merchants\",\"Shou gan  Limited Liability Company\",\"Shou gan  Oyj Overseas\",\"Shou gan  Oyj Overseas\",\"bǐ mù yú Sagl Distribution\",\"bǐ mù yú Sagl Distribution\"],\"to\":[\"Estrella del Mar Tilapia Oyj Marine\",\"lǐyú GmbH & Co. KG Logistics\",\"-1417\",\"Pao gan SE Seal\",\"Konkan Coast  SRL Coral Reef\",\"Mar del Este CJSC\",\"Mar del Paraíso Corporation Logistics\",\"-4241\",\"Kong zhong diao yu  AG Transport\",\"Mar del Este CJSC\",\"lǐyú GmbH & Co. KG Logistics\",\"Mar del Este CJSC\",\"Punjab s A/S Marine\",\"Congo Basin  Ltd. Liability Co Holdings\",\"Uttarakhand  Market Limited Liability Company Nautical\",\"Volga River LLC Enterprises\",\"Fisherman's Best Marine conservation\",\"-533\",\"Estrella del Mar Tilapia Oyj Marine\",\"Sea Luxe Limited Liability Company Shipping\",\"hǎi dǎn Corporation Wharf\",\"Uttarakhand  Market Limited Liability Company Nautical\",\"SeaTree Ltd. Liability Co Holdings\",\"hǎi dǎn Corporation Wharf\",\"Kong zhong diao yu  Ges.m.b.H.\",\"AtlanticAppetite Oyster  Ltd. Corporation Investment\",\"Océano de Coral Corporation Marine conservation\",\"Tripura  Pier N.V. Solutions\",\"Lake Victoria Nile    GmbH & Co. KG Fish \",\"-533\",\"Lake Tanganyika  Inc Jetty\",\"Rybachit Sagl and Son's\",\"Panope Limited Liability Company\",\"Uttarakhand  Market Limited Liability Company Nautical\",\"Volga River LLC Enterprises\",\"Volga River LLC Enterprises\",\"Mar del Este CJSC\",\"Panope Limited Liability Company\",\"Sea Breezes GmbH & Co. KG Shark\",\"lǐyú GmbH & Co. KG Logistics\",\"Caracola Azul Wharf Ltd. Corporation Forwading\",\"Fresh Wharf SRL Consulting\",\"Panope Limited Liability Company\",\"Pao gan SE Seal\",\"hǎi dǎn Corporation Wharf\",\"-1230\",\"Uttarakhand  Market Limited Liability Company Nautical\",\"hǎi dǎn Corporation Wharf\",\"Lake Tanganyika  Inc Jetty\",\"Mar del Este CJSC\",\"-1203\",\"Yu xian  SRL Industrial\"],\"hscode\":[\"160414\",\"160414\",\"160529\",\"160414\",\"150430\",\"160414\",\"160529\",\"150430\",\"150430\",\"160414\",\"160414\",\"160521\",\"160414\",\"160420\",\"160414\",\"160414\",\"160553\",\"160414\",\"160414\",\"160414\",\"160414\",\"160414\",\"160414\",\"160540\",\"160414\",\"160521\",\"160521\",\"160529\",\"160540\",\"160414\",\"160414\",\"160521\",\"160414\",\"160411\",\"160411\",\"160414\",\"160414\",\"160414\",\"160414\",\"160414\",\"160540\",\"160414\",\"160414\",\"160510\",\"160540\",\"160414\",\"160414\",\"160540\",\"160414\",\"160414\",\"160414\",\"160414\"],\"Year\":[2028,2028,2028,2028,2028,2028,2028,2028,2028,2028,2028,2028,2028,2028,2028,2028,2028,2028,2028,2028,2028,2028,2028,2028,2028,2028,2028,2028,2028,2028,2028,2028,2028,2028,2028,2028,2028,2028,2028,2028,2028,2028,2028,2028,2028,2028,2028,2028,2028,2028,2028,2028],\"weights\":[87,252,194,93,82,90,144,139,285,89,120,110,123,158,243,139,92,94,237,85,392,434,134,104,119,134,86,87,111,109,353,156,100,104,111,263,81,438,258,103,87,1112,140,111,185,102,82,123,92,91,125,171]},\"nodesToDataframe\":true,\"edgesToDataframe\":true,\"options\":{\"width\":\"100%\",\"height\":\"100%\",\"nodes\":{\"shape\":\"dot\",\"physics\":false},\"manipulation\":{\"enabled\":false},\"edges\":{\"arrows\":\"to\",\"smooth\":false},\"physics\":{\"stabilization\":false},\"layout\":{\"randomSeed\":123}},\"groups\":null,\"width\":null,\"height\":null,\"idselection\":{\"enabled\":true,\"style\":\"width: 150px; height: 26px\",\"useLabels\":true,\"main\":\"Select by id\"},\"byselection\":{\"enabled\":false,\"style\":\"width: 150px; height: 26px\",\"multiple\":false,\"hideColor\":\"rgba(200,200,200,0.5)\",\"highlight\":false},\"main\":null,\"submain\":null,\"footer\":null,\"background\":\"rgba(0, 0, 0, 0)\",\"igraphlayout\":{\"type\":\"square\"},\"highlight\":{\"enabled\":true,\"hoverNearest\":false,\"degree\":1,\"algorithm\":\"all\",\"hideColor\":\"rgba(200,200,200,0.5)\",\"labelOnly\":true},\"collapse\":{\"enabled\":false,\"fit\":false,\"resetHighlight\":true,\"clusterOptions\":null,\"keepCoord\":true,\"labelSuffix\":\"(cluster)\"},\"legend\":{\"width\":0.2,\"useGroups\":true,\"position\":\"left\",\"ncol\":1,\"stepX\":100,\"stepY\":100,\"zoom\":true}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n\nNetwork Graph for Year 2029\n\nData Preparation\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nmc2_edges_2029_aggregated  <- mc2_edges_aggregated %>%\nrename(from = source) %>%\nrename(to = target) %>%\nfilter (Year == \"2030\") %>%  \nfilter(from!=to) %>%\nungroup()\n  \nedges_2029 <- mc2_edges_2029_aggregated\nnodes_2029 <- mc2_nodes_extracted %>%\n  filter(id %in% c(\"id\", edges_2029$from, edges_2029$to)) %>%\n  arrange(id)\n```\n:::\n\n\n\nPlot network graph for Year 2029\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\n# Generate palette colors\nnum_colors <- 196\ncolor_palette <- colorRampPalette(c(\"green\", \"green\"))(num_colors)\n\n# Assign colors to the \"color\" attribute in the node data\nmc2_nodes_extracted$color <- color_palette\n\n# Plot network graph\nvisNetwork(nodes_2029, edges_2029) %>%\n  visEdges(arrows = \"to\") %>%\n  visIgraphLayout(layout = \"layout_with_fr\") %>%\n  visOptions(highlightNearest = TRUE, nodesIdSelection = TRUE) %>%\n  visLegend() %>%\n  visLayout(randomSeed = 123)\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"visNetwork html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-f3cb94633eeb68a76b4f\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-f3cb94633eeb68a76b4f\">{\"x\":{\"nodes\":{\"id\":[\"-1203\",\"-4\",\"Adriatic Tuna Seabass BV Transit\",\"Ancla del Mar Marine ecology\",\"Angrapa S.A. de C.V.\",\"Aqua Adventures Carriers Seabed\",\"Aqua Aura SE Marine life\",\"Arunachal Pradesh s A/S Transport\",\"Bahía Azul Marine sanctuary\",\"Baltic Catch SE Solutions\",\"Beachcomber's Bounty Sea spray\",\"Brisa del Este BV\",\"Caracola del Este Corporation Express\",\"Caracola del Sol Services\",\"Chhattisgarh   Marine ecology A/S Delivery\",\"Christopher Ltd. Liability Co Worldwide\",\"Coral Cove BV Delivery\",\"Coral Reef Oyj Solutions\",\"CoralCrest Limited Liability Company Seabass\",\"Costa de Coral SRL United\",\"Costa de la Felicidad Shipping\",\"Costa del Sol Sp\",\"Diao er  Limited Liability Company\",\"Estrella de la Costa AB Express\",\"Estrella de la Costa SRL\",\"Estrella del Sol Incorporated Aqua\",\"Fisherman's Best Marine conservation\",\"Fresh Wharf SRL Consulting\",\"Harbah Ltd. Liability Co Marine\",\"Hohhot Ges.m.b.H. Marine biology\",\"Icelandic Cod GmbH & Co. KG Express\",\"Isla del Mar Ltd. Liability Co Enterprises\",\"Kong zhong diao yu  AG Transport\",\"Kong zhong diao yu  Ges.m.b.H.\",\"Lake Kivu   Corp Hijiki\",\"Lake Tanganyika  Inc Jetty\",\"Madagascar Coast  AG Freight \",\"Mar de Cristalino Inc\",\"Mar de la Aventura Limited Liability Company\",\"Mar de la Aventura Rybachit\",\"Mar del Este CJSC\",\"Mar del Paraíso Corporation Logistics\",\"Mar del Paraíso NV Worldwide\",\"Mar del Placer Sagl Solutions\",\"Michael Ltd. Corporation Seal\",\"Neptune's Realm NV Navigation\",\"Niamh Limited Liability Company\",\"Náutica del Sol Brothers\",\"Oceanfront Oasis Company Green \",\"OceanicOrigin Foods Co Consulting\",\"Océano de Coral Corporation Express\",\"Océano de Coral Corporation Marine conservation\",\"Olas del Mar N.V.\",\"Olas del Sur Ltd\",\"Panope Limited Liability Company\",\"Pao gan LC Freight \",\"Pao gan SE Seal\",\"Playa del Cielo Corp\",\"Playa del Sol Ltd. Liability Co Line\",\"Playa del Tesoro OJSC\",\"Portuguese Tuna Bonito Kga Consultants\",\"Punjab  Market Corporation Freight \",\"Rybachit Sagl and Son's\",\"Saharan Oasis  Pic International\",\"SaltSea & Inc Carriers\",\"Samaka Ltd. Liability Co Distribution\",\"Scottish Lobster Ltd. Corporation\",\"Scottish Oysters Flotsam S.p.A. Services\",\"SeaBass &  SE Tanker\",\"SeaTree Ltd. Liability Co Holdings\",\"Shou gan  Oyj Overseas\",\"Volga River LLC Enterprises\",\"Yu xian  SRL Industrial\",\"bǐ mù yú Sagl Distribution\",\"hǎi dǎn Corporation Wharf\",\"lǐyú GmbH & Co. KG Logistics\"],\"color\":[\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\",\"#FFC0CB\"],\"x\":[-0.853703869806926,0.739374733176906,0.0142224999557072,0.0108902982776398,-0.580427151617296,0.509813146720278,-0.430601162079638,0.808111606498524,0.917843450628069,-0.4167382579098,0.583040764370227,-0.1831167474751,0.319682249743371,0.0168904008474582,0.248967047985641,0.51858856482415,0.875822078737232,-0.37899407217375,-0.161364378960465,0.0696531961214326,0.393564661522996,1,-0.875894072819708,0.205770830443706,-0.846943396428041,-0.897280860964274,-0.489030185661175,-0.609074580787377,-0.0976198028449488,-0.104642418120626,-0.64516716811979,-0.405489837743008,0.261448962075313,-0.315468813321373,-0.357444269619562,0.420666022181307,0.56902296324263,-0.391372695841244,0.133517615855042,-1,0.184837569115547,-0.374315815156273,0.273463767399647,0.284211522140634,0.492290318103139,0.649170356986924,0.964301370079401,-0.735565664104844,0.285490224124414,0.806177178793272,-0.488338172531044,-0.0430001334340403,0.348384794176927,-0.977173981729352,0.862042903108774,0.79462616294031,-0.733212874841924,0.83278725125422,-0.122406787518097,-0.691003427295661,-0.00690155607286758,-0.457622789196536,0.530155266465674,0.875081632263763,-0.634098017453245,-0.182822863656904,-0.183330922084236,0.671793764760317,-0.502792388072147,0.00382101716026684,0.315341262251165,-0.772328176607594,-0.0692585384770008,-0.733725075340631,0.466676333133918,0.465483561734221],\"y\":[0.47243645623739,-0.612624057183423,-0.681300901909066,0.510264971158546,-0.296862854171178,0.107523580754861,-0.0284011016363102,0.578953668193198,-0.324446121486406,-0.902860947843748,0.731511831594545,-0.896896538717203,0.650504209943808,0.970816250613525,0.925959754354625,-0.39789209933585,-0.0601708947905171,-0.351507634522703,-0.0313615623845708,-0.841505965168755,0.0139062334055773,-0.0903139941663654,-0.272531553050781,-0.899151587131117,0.235784953997924,-0.386861787106312,0.422381239142613,0.757201790479963,1,-0.358802559561581,-0.474199908598029,-0.544718691996151,0.793723108176532,0.772496588073697,0.641327234655045,-0.488663522173079,0.8561290393227,0.884977256269165,-0.566647972979021,0.0551857813262127,-0.726965849714318,-0.789624200823143,0.512961297984328,-0.0910349856923157,-0.107776045671989,0.37805833783998,0.242474186475367,-0.00171418566474457,0.132177693079365,0.0498230828790129,0.0759221708160236,-0.00403711048667255,-0.805750933559334,-0.0640250971560722,0.170250895844669,-0.30223712062578,-0.674919093420809,-0.533934085255292,-1,0.67630926786999,0.630293734643527,0.311735091571583,0.375888002479331,0.477880346617084,-0.746071167134671,0.325672271650188,0.794710676601592,-0.715442934337046,-0.426878580702828,-0.295372941363559,-0.596733663726269,0.129375782152263,0.273065084801231,0.456961440020119,0.663433191543284,-0.875940996345741],\"label\":[\"-1203\",\"-4\",\"Adriatic Tuna Seabass BV Transit\",\"Ancla del Mar Marine ecology\",\"Angrapa S.A. de C.V.\",\"Aqua Adventures Carriers Seabed\",\"Aqua Aura SE Marine life\",\"Arunachal Pradesh s A/S Transport\",\"Bahía Azul Marine sanctuary\",\"Baltic Catch SE Solutions\",\"Beachcomber's Bounty Sea spray\",\"Brisa del Este BV\",\"Caracola del Este Corporation Express\",\"Caracola del Sol Services\",\"Chhattisgarh   Marine ecology A/S Delivery\",\"Christopher Ltd. Liability Co Worldwide\",\"Coral Cove BV Delivery\",\"Coral Reef Oyj Solutions\",\"CoralCrest Limited Liability Company Seabass\",\"Costa de Coral SRL United\",\"Costa de la Felicidad Shipping\",\"Costa del Sol Sp\",\"Diao er  Limited Liability Company\",\"Estrella de la Costa AB Express\",\"Estrella de la Costa SRL\",\"Estrella del Sol Incorporated Aqua\",\"Fisherman's Best Marine conservation\",\"Fresh Wharf SRL Consulting\",\"Harbah Ltd. Liability Co Marine\",\"Hohhot Ges.m.b.H. Marine biology\",\"Icelandic Cod GmbH & Co. KG Express\",\"Isla del Mar Ltd. Liability Co Enterprises\",\"Kong zhong diao yu  AG Transport\",\"Kong zhong diao yu  Ges.m.b.H.\",\"Lake Kivu   Corp Hijiki\",\"Lake Tanganyika  Inc Jetty\",\"Madagascar Coast  AG Freight \",\"Mar de Cristalino Inc\",\"Mar de la Aventura Limited Liability Company\",\"Mar de la Aventura Rybachit\",\"Mar del Este CJSC\",\"Mar del Paraíso Corporation Logistics\",\"Mar del Paraíso NV Worldwide\",\"Mar del Placer Sagl Solutions\",\"Michael Ltd. Corporation Seal\",\"Neptune's Realm NV Navigation\",\"Niamh Limited Liability Company\",\"Náutica del Sol Brothers\",\"Oceanfront Oasis Company Green \",\"OceanicOrigin Foods Co Consulting\",\"Océano de Coral Corporation Express\",\"Océano de Coral Corporation Marine conservation\",\"Olas del Mar N.V.\",\"Olas del Sur Ltd\",\"Panope Limited Liability Company\",\"Pao gan LC Freight \",\"Pao gan SE Seal\",\"Playa del Cielo Corp\",\"Playa del Sol Ltd. Liability Co Line\",\"Playa del Tesoro OJSC\",\"Portuguese Tuna Bonito Kga Consultants\",\"Punjab  Market Corporation Freight \",\"Rybachit Sagl and Son's\",\"Saharan Oasis  Pic International\",\"SaltSea & Inc Carriers\",\"Samaka Ltd. Liability Co Distribution\",\"Scottish Lobster Ltd. Corporation\",\"Scottish Oysters Flotsam S.p.A. Services\",\"SeaBass &  SE Tanker\",\"SeaTree Ltd. Liability Co Holdings\",\"Shou gan  Oyj Overseas\",\"Volga River LLC Enterprises\",\"Yu xian  SRL Industrial\",\"bǐ mù yú Sagl Distribution\",\"hǎi dǎn Corporation Wharf\",\"lǐyú GmbH & Co. KG Logistics\"]},\"edges\":{\"from\":[\"Adriatic Tuna Seabass BV Transit\",\"Ancla del Mar Marine ecology\",\"Angrapa S.A. de C.V.\",\"Aqua Adventures Carriers Seabed\",\"Aqua Aura SE Marine life\",\"Arunachal Pradesh s A/S Transport\",\"Bahía Azul Marine sanctuary\",\"Baltic Catch SE Solutions\",\"Beachcomber's Bounty Sea spray\",\"Beachcomber's Bounty Sea spray\",\"Caracola del Este Corporation Express\",\"Caracola del Este Corporation Express\",\"Caracola del Este Corporation Express\",\"Chhattisgarh   Marine ecology A/S Delivery\",\"Christopher Ltd. Liability Co Worldwide\",\"Coral Reef Oyj Solutions\",\"CoralCrest Limited Liability Company Seabass\",\"Costa de Coral SRL United\",\"Costa del Sol Sp\",\"Diao er  Limited Liability Company\",\"Estrella de la Costa AB Express\",\"Estrella de la Costa SRL\",\"Harbah Ltd. Liability Co Marine\",\"Hohhot Ges.m.b.H. Marine biology\",\"Icelandic Cod GmbH & Co. KG Express\",\"Isla del Mar Ltd. Liability Co Enterprises\",\"Lake Kivu   Corp Hijiki\",\"Mar de Cristalino Inc\",\"Mar de la Aventura Limited Liability Company\",\"Mar de la Aventura Rybachit\",\"Mar del Placer Sagl Solutions\",\"Michael Ltd. Corporation Seal\",\"Neptune's Realm NV Navigation\",\"Niamh Limited Liability Company\",\"Náutica del Sol Brothers\",\"Oceanfront Oasis Company Green \",\"OceanicOrigin Foods Co Consulting\",\"OceanicOrigin Foods Co Consulting\",\"Olas del Mar N.V.\",\"Olas del Mar N.V.\",\"Playa del Cielo Corp\",\"Playa del Sol Ltd. Liability Co Line\",\"Playa del Tesoro OJSC\",\"Punjab  Market Corporation Freight \",\"SaltSea & Inc Carriers\",\"Samaka Ltd. Liability Co Distribution\",\"Scottish Lobster Ltd. Corporation\",\"Scottish Oysters Flotsam S.p.A. Services\",\"Shou gan  Oyj Overseas\",\"Shou gan  Oyj Overseas\",\"bǐ mù yú Sagl Distribution\"],\"to\":[\"Mar del Este CJSC\",\"Portuguese Tuna Bonito Kga Consultants\",\"SeaBass &  SE Tanker\",\"Costa de la Felicidad Shipping\",\"Océano de Coral Corporation Express\",\"Saharan Oasis  Pic International\",\"Pao gan LC Freight \",\"Mar del Paraíso Corporation Logistics\",\"Madagascar Coast  AG Freight \",\"hǎi dǎn Corporation Wharf\",\"Kong zhong diao yu  AG Transport\",\"Mar del Paraíso NV Worldwide\",\"hǎi dǎn Corporation Wharf\",\"Kong zhong diao yu  AG Transport\",\"Lake Tanganyika  Inc Jetty\",\"SeaBass &  SE Tanker\",\"Océano de Coral Corporation Marine conservation\",\"Mar del Este CJSC\",\"Coral Cove BV Delivery\",\"Estrella del Sol Incorporated Aqua\",\"Mar del Este CJSC\",\"Volga River LLC Enterprises\",\"Caracola del Sol Services\",\"SeaTree Ltd. Liability Co Holdings\",\"SeaBass &  SE Tanker\",\"SeaBass &  SE Tanker\",\"Kong zhong diao yu  Ges.m.b.H.\",\"Kong zhong diao yu  Ges.m.b.H.\",\"Mar del Este CJSC\",\"Olas del Sur Ltd\",\"Costa de la Felicidad Shipping\",\"Costa de la Felicidad Shipping\",\"Rybachit Sagl and Son's\",\"Panope Limited Liability Company\",\"Volga River LLC Enterprises\",\"Costa de la Felicidad Shipping\",\"Coral Cove BV Delivery\",\"Panope Limited Liability Company\",\"Mar del Este CJSC\",\"lǐyú GmbH & Co. KG Logistics\",\"-4\",\"Brisa del Este BV\",\"Fresh Wharf SRL Consulting\",\"Fisherman's Best Marine conservation\",\"Pao gan SE Seal\",\"Yu xian  SRL Industrial\",\"Kong zhong diao yu  Ges.m.b.H.\",\"-4\",\"Lake Tanganyika  Inc Jetty\",\"Mar del Este CJSC\",\"-1203\"],\"hscode\":[\"160414\",\"160529\",\"160414\",\"160529\",\"160510\",\"150430\",\"160414\",\"160521\",\"160529\",\"160529\",\"150430\",\"150430\",\"150430\",\"150430\",\"160414\",\"160414\",\"160521\",\"160414\",\"160414\",\"160414\",\"160420\",\"160414\",\"160521\",\"160414\",\"160414\",\"160414\",\"160521\",\"160414\",\"160414\",\"160510\",\"160529\",\"160521\",\"160521\",\"160414\",\"160414\",\"160521\",\"160414\",\"160414\",\"160414\",\"160414\",\"160414\",\"160540\",\"160414\",\"160553\",\"160510\",\"160521\",\"160521\",\"160414\",\"160414\",\"160414\",\"160414\"],\"Year\":[2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030],\"weights\":[145,104,126,86,102,136,95,91,149,122,169,94,159,194,84,138,164,138,118,105,82,101,108,142,88,240,100,109,138,144,152,252,132,103,217,375,92,757,143,124,86,135,1102,105,103,91,264,88,266,91,181]},\"nodesToDataframe\":true,\"edgesToDataframe\":true,\"options\":{\"width\":\"100%\",\"height\":\"100%\",\"nodes\":{\"shape\":\"dot\",\"physics\":false},\"manipulation\":{\"enabled\":false},\"edges\":{\"arrows\":\"to\",\"smooth\":false},\"physics\":{\"stabilization\":false},\"layout\":{\"randomSeed\":123}},\"groups\":null,\"width\":null,\"height\":null,\"idselection\":{\"enabled\":true,\"style\":\"width: 150px; height: 26px\",\"useLabels\":true,\"main\":\"Select by id\"},\"byselection\":{\"enabled\":false,\"style\":\"width: 150px; height: 26px\",\"multiple\":false,\"hideColor\":\"rgba(200,200,200,0.5)\",\"highlight\":false},\"main\":null,\"submain\":null,\"footer\":null,\"background\":\"rgba(0, 0, 0, 0)\",\"igraphlayout\":{\"type\":\"square\"},\"highlight\":{\"enabled\":true,\"hoverNearest\":false,\"degree\":1,\"algorithm\":\"all\",\"hideColor\":\"rgba(200,200,200,0.5)\",\"labelOnly\":true},\"collapse\":{\"enabled\":false,\"fit\":false,\"resetHighlight\":true,\"clusterOptions\":null,\"keepCoord\":true,\"labelSuffix\":\"(cluster)\"},\"legend\":{\"width\":0.2,\"useGroups\":true,\"position\":\"left\",\"ncol\":1,\"stepX\":100,\"stepY\":100,\"zoom\":true}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n\nNetwork Graph for Year 2032\n\nData Preparation\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nmc2_edges_2030_aggregated  <- mc2_edges_aggregated %>%\nrename(from = source) %>%\nrename(to = target) %>%\nfilter (Year == \"2030\") %>%  \nfilter(from!=to) %>%\nungroup()\n  \nedges_2030 <- mc2_edges_2030_aggregated\nnodes_2030 <- mc2_nodes_extracted %>%\n  filter(id %in% c(\"id\", edges_2030$from, edges_2030$to)) %>%\n  arrange(id)\n```\n:::\n\n\n\nPlot network graph for Year 2030\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\n# Generate palette colors\nnum_colors <- 196\ncolor_palette <- colorRampPalette(c(\"blue\", \"blue\"))(num_colors)\n\n# Assign colors to the \"color\" attribute in the node data\nmc2_nodes_extracted$color <- color_palette\n\n# Plot network graph\nvisNetwork(nodes_2030, edges_2030) %>%\n  visEdges(arrows = \"to\") %>%\n  visIgraphLayout(layout = \"layout_with_fr\") %>%\n  visOptions(highlightNearest = TRUE, nodesIdSelection = TRUE) %>%\n  visLegend() %>%\n  visLayout(randomSeed = 123)\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"visNetwork html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-bb7b00a3af9fbf80630c\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-bb7b00a3af9fbf80630c\">{\"x\":{\"nodes\":{\"id\":[\"-1203\",\"-4\",\"Adriatic Tuna Seabass BV Transit\",\"Ancla del Mar Marine ecology\",\"Angrapa S.A. de C.V.\",\"Aqua Adventures Carriers Seabed\",\"Aqua Aura SE Marine life\",\"Arunachal Pradesh s A/S Transport\",\"Bahía Azul Marine sanctuary\",\"Baltic Catch SE Solutions\",\"Beachcomber's Bounty Sea spray\",\"Brisa del Este BV\",\"Caracola del Este Corporation Express\",\"Caracola del Sol Services\",\"Chhattisgarh   Marine ecology A/S Delivery\",\"Christopher Ltd. Liability Co Worldwide\",\"Coral Cove BV Delivery\",\"Coral Reef Oyj Solutions\",\"CoralCrest Limited Liability Company Seabass\",\"Costa de Coral SRL United\",\"Costa de la Felicidad Shipping\",\"Costa del Sol Sp\",\"Diao er  Limited Liability Company\",\"Estrella de la Costa AB Express\",\"Estrella de la Costa SRL\",\"Estrella del Sol Incorporated Aqua\",\"Fisherman's Best Marine conservation\",\"Fresh Wharf SRL Consulting\",\"Harbah Ltd. Liability Co Marine\",\"Hohhot Ges.m.b.H. Marine biology\",\"Icelandic Cod GmbH & Co. KG Express\",\"Isla del Mar Ltd. Liability Co Enterprises\",\"Kong zhong diao yu  AG Transport\",\"Kong zhong diao yu  Ges.m.b.H.\",\"Lake Kivu   Corp Hijiki\",\"Lake Tanganyika  Inc Jetty\",\"Madagascar Coast  AG Freight \",\"Mar de Cristalino Inc\",\"Mar de la Aventura Limited Liability Company\",\"Mar de la Aventura Rybachit\",\"Mar del Este CJSC\",\"Mar del Paraíso Corporation Logistics\",\"Mar del Paraíso NV Worldwide\",\"Mar del Placer Sagl Solutions\",\"Michael Ltd. Corporation Seal\",\"Neptune's Realm NV Navigation\",\"Niamh Limited Liability Company\",\"Náutica del Sol Brothers\",\"Oceanfront Oasis Company Green \",\"OceanicOrigin Foods Co Consulting\",\"Océano de Coral Corporation Express\",\"Océano de Coral Corporation Marine conservation\",\"Olas del Mar N.V.\",\"Olas del Sur Ltd\",\"Panope Limited Liability Company\",\"Pao gan LC Freight \",\"Pao gan SE Seal\",\"Playa del Cielo Corp\",\"Playa del Sol Ltd. Liability Co Line\",\"Playa del Tesoro OJSC\",\"Portuguese Tuna Bonito Kga Consultants\",\"Punjab  Market Corporation Freight \",\"Rybachit Sagl and Son's\",\"Saharan Oasis  Pic International\",\"SaltSea & Inc Carriers\",\"Samaka Ltd. Liability Co Distribution\",\"Scottish Lobster Ltd. Corporation\",\"Scottish Oysters Flotsam S.p.A. Services\",\"SeaBass &  SE Tanker\",\"SeaTree Ltd. Liability Co Holdings\",\"Shou gan  Oyj Overseas\",\"Volga River LLC Enterprises\",\"Yu xian  SRL Industrial\",\"bǐ mù yú Sagl Distribution\",\"hǎi dǎn Corporation Wharf\",\"lǐyú GmbH & Co. KG Logistics\"],\"color\":[\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\",\"#00FF00\"],\"x\":[0.567742217118503,0.873429525252726,0.310427541623832,-0.225961053022614,0.326687003133451,0.881333639987785,0.206847664648289,-0.122796243354031,-0.350676984084385,-0.98705580122867,-0.0301900970230785,-0.574196209569946,0.0869764196700469,-0.0973867639130913,0.380148016186554,0.333799966704715,-0.227255354127932,0.120136519767948,-0.756289903539258,0.289846749769119,0.747765866463833,-0.318340248364324,-0.636913272698488,0.411156927424951,-0.656603906518888,-0.604411164971751,-0.385426943029814,-1,0.0149261620064967,-0.611962789912096,0.349970363328532,0.0989796505492324,0.243144854194106,-0.349677278570006,-0.218303414969251,0.441357270355452,-0.140327211281049,-0.402678868502333,0.569981076595521,-0.93749979788425,0.44995914388304,-0.89982557189016,-0.0167069377753203,0.665949326880234,0.623822923482872,0.567461266273448,0.0846083780562614,-0.791579182056229,0.820504443448714,-0.103685505016412,0.325092693747465,-0.643525117833783,0.628801098332479,-0.851556488400228,0.0149307287076845,-0.373385938350461,-0.784459260562298,0.904707767679787,-0.473479242753589,-0.96784655719895,-0.309009938309334,-0.404594593427658,0.66135721374948,-0.00846151848347454,-0.853647344779111,1,-0.424129147844348,0.929059939253133,0.226482165628956,-0.572652261332942,0.471725070749556,-0.708318703653367,0.906814774608057,0.659269817945144,0.0293899862788736,0.75825446081319],\"y\":[-0.0954642120743292,-0.28623000658869,-0.628661640362059,0.479830390631514,0.489250395866439,0.338861761934136,0.98183339018404,1,-0.508236266221264,-0.223597304995183,-0.151962618833956,-0.826870534959198,0.12613622431195,-0.525274398784879,0.116770229607589,-0.943134033247356,-0.879543892453707,0.713925399100171,-0.0817184125417962,-0.4600183617132,0.396010725730911,-0.96252246746764,-0.381013782177669,-0.35647906283051,0.778341304500469,-0.503957692408951,0.0841493067065853,0.127195597908156,-0.567477631697074,0.26252610263499,0.694761106930754,0.526065003388622,0.125900814916936,0.819223150933835,0.770199667556033,-0.863868884102654,-0.229297113216794,0.946126838855367,-0.415149925772669,0.384951662348735,-0.53332458654333,-0.303324536561273,0.232392992641221,0.273338017640082,0.475417502155402,0.82541854816732,-1,0.568837632123059,0.523789998766931,-0.839881329775928,0.961920347627667,-0.0505218831149039,-0.591969401937674,0.299508935909612,-0.898560470017523,-0.381491947990822,-0.646303257727791,-0.406738158968443,-0.762785095517868,0.0153783057565218,0.388336414963852,-0.0401260486858332,0.747549151436159,0.984393417318232,-0.545225361458089,0.116625169645001,0.703506357871449,-0.174897215393764,0.606954914471277,0.384766801663867,-0.71849992436268,0.664070155974795,0.0523842088669806,-0.0131827971752391,-0.0188503320847703,-0.637560550472255],\"label\":[\"-1203\",\"-4\",\"Adriatic Tuna Seabass BV Transit\",\"Ancla del Mar Marine ecology\",\"Angrapa S.A. de C.V.\",\"Aqua Adventures Carriers Seabed\",\"Aqua Aura SE Marine life\",\"Arunachal Pradesh s A/S Transport\",\"Bahía Azul Marine sanctuary\",\"Baltic Catch SE Solutions\",\"Beachcomber's Bounty Sea spray\",\"Brisa del Este BV\",\"Caracola del Este Corporation Express\",\"Caracola del Sol Services\",\"Chhattisgarh   Marine ecology A/S Delivery\",\"Christopher Ltd. Liability Co Worldwide\",\"Coral Cove BV Delivery\",\"Coral Reef Oyj Solutions\",\"CoralCrest Limited Liability Company Seabass\",\"Costa de Coral SRL United\",\"Costa de la Felicidad Shipping\",\"Costa del Sol Sp\",\"Diao er  Limited Liability Company\",\"Estrella de la Costa AB Express\",\"Estrella de la Costa SRL\",\"Estrella del Sol Incorporated Aqua\",\"Fisherman's Best Marine conservation\",\"Fresh Wharf SRL Consulting\",\"Harbah Ltd. Liability Co Marine\",\"Hohhot Ges.m.b.H. Marine biology\",\"Icelandic Cod GmbH & Co. KG Express\",\"Isla del Mar Ltd. Liability Co Enterprises\",\"Kong zhong diao yu  AG Transport\",\"Kong zhong diao yu  Ges.m.b.H.\",\"Lake Kivu   Corp Hijiki\",\"Lake Tanganyika  Inc Jetty\",\"Madagascar Coast  AG Freight \",\"Mar de Cristalino Inc\",\"Mar de la Aventura Limited Liability Company\",\"Mar de la Aventura Rybachit\",\"Mar del Este CJSC\",\"Mar del Paraíso Corporation Logistics\",\"Mar del Paraíso NV Worldwide\",\"Mar del Placer Sagl Solutions\",\"Michael Ltd. Corporation Seal\",\"Neptune's Realm NV Navigation\",\"Niamh Limited Liability Company\",\"Náutica del Sol Brothers\",\"Oceanfront Oasis Company Green \",\"OceanicOrigin Foods Co Consulting\",\"Océano de Coral Corporation Express\",\"Océano de Coral Corporation Marine conservation\",\"Olas del Mar N.V.\",\"Olas del Sur Ltd\",\"Panope Limited Liability Company\",\"Pao gan LC Freight \",\"Pao gan SE Seal\",\"Playa del Cielo Corp\",\"Playa del Sol Ltd. Liability Co Line\",\"Playa del Tesoro OJSC\",\"Portuguese Tuna Bonito Kga Consultants\",\"Punjab  Market Corporation Freight \",\"Rybachit Sagl and Son's\",\"Saharan Oasis  Pic International\",\"SaltSea & Inc Carriers\",\"Samaka Ltd. Liability Co Distribution\",\"Scottish Lobster Ltd. Corporation\",\"Scottish Oysters Flotsam S.p.A. Services\",\"SeaBass &  SE Tanker\",\"SeaTree Ltd. Liability Co Holdings\",\"Shou gan  Oyj Overseas\",\"Volga River LLC Enterprises\",\"Yu xian  SRL Industrial\",\"bǐ mù yú Sagl Distribution\",\"hǎi dǎn Corporation Wharf\",\"lǐyú GmbH & Co. KG Logistics\"]},\"edges\":{\"from\":[\"Adriatic Tuna Seabass BV Transit\",\"Ancla del Mar Marine ecology\",\"Angrapa S.A. de C.V.\",\"Aqua Adventures Carriers Seabed\",\"Aqua Aura SE Marine life\",\"Arunachal Pradesh s A/S Transport\",\"Bahía Azul Marine sanctuary\",\"Baltic Catch SE Solutions\",\"Beachcomber's Bounty Sea spray\",\"Beachcomber's Bounty Sea spray\",\"Caracola del Este Corporation Express\",\"Caracola del Este Corporation Express\",\"Caracola del Este Corporation Express\",\"Chhattisgarh   Marine ecology A/S Delivery\",\"Christopher Ltd. Liability Co Worldwide\",\"Coral Reef Oyj Solutions\",\"CoralCrest Limited Liability Company Seabass\",\"Costa de Coral SRL United\",\"Costa del Sol Sp\",\"Diao er  Limited Liability Company\",\"Estrella de la Costa AB Express\",\"Estrella de la Costa SRL\",\"Harbah Ltd. Liability Co Marine\",\"Hohhot Ges.m.b.H. Marine biology\",\"Icelandic Cod GmbH & Co. KG Express\",\"Isla del Mar Ltd. Liability Co Enterprises\",\"Lake Kivu   Corp Hijiki\",\"Mar de Cristalino Inc\",\"Mar de la Aventura Limited Liability Company\",\"Mar de la Aventura Rybachit\",\"Mar del Placer Sagl Solutions\",\"Michael Ltd. Corporation Seal\",\"Neptune's Realm NV Navigation\",\"Niamh Limited Liability Company\",\"Náutica del Sol Brothers\",\"Oceanfront Oasis Company Green \",\"OceanicOrigin Foods Co Consulting\",\"OceanicOrigin Foods Co Consulting\",\"Olas del Mar N.V.\",\"Olas del Mar N.V.\",\"Playa del Cielo Corp\",\"Playa del Sol Ltd. Liability Co Line\",\"Playa del Tesoro OJSC\",\"Punjab  Market Corporation Freight \",\"SaltSea & Inc Carriers\",\"Samaka Ltd. Liability Co Distribution\",\"Scottish Lobster Ltd. Corporation\",\"Scottish Oysters Flotsam S.p.A. Services\",\"Shou gan  Oyj Overseas\",\"Shou gan  Oyj Overseas\",\"bǐ mù yú Sagl Distribution\"],\"to\":[\"Mar del Este CJSC\",\"Portuguese Tuna Bonito Kga Consultants\",\"SeaBass &  SE Tanker\",\"Costa de la Felicidad Shipping\",\"Océano de Coral Corporation Express\",\"Saharan Oasis  Pic International\",\"Pao gan LC Freight \",\"Mar del Paraíso Corporation Logistics\",\"Madagascar Coast  AG Freight \",\"hǎi dǎn Corporation Wharf\",\"Kong zhong diao yu  AG Transport\",\"Mar del Paraíso NV Worldwide\",\"hǎi dǎn Corporation Wharf\",\"Kong zhong diao yu  AG Transport\",\"Lake Tanganyika  Inc Jetty\",\"SeaBass &  SE Tanker\",\"Océano de Coral Corporation Marine conservation\",\"Mar del Este CJSC\",\"Coral Cove BV Delivery\",\"Estrella del Sol Incorporated Aqua\",\"Mar del Este CJSC\",\"Volga River LLC Enterprises\",\"Caracola del Sol Services\",\"SeaTree Ltd. Liability Co Holdings\",\"SeaBass &  SE Tanker\",\"SeaBass &  SE Tanker\",\"Kong zhong diao yu  Ges.m.b.H.\",\"Kong zhong diao yu  Ges.m.b.H.\",\"Mar del Este CJSC\",\"Olas del Sur Ltd\",\"Costa de la Felicidad Shipping\",\"Costa de la Felicidad Shipping\",\"Rybachit Sagl and Son's\",\"Panope Limited Liability Company\",\"Volga River LLC Enterprises\",\"Costa de la Felicidad Shipping\",\"Coral Cove BV Delivery\",\"Panope Limited Liability Company\",\"Mar del Este CJSC\",\"lǐyú GmbH & Co. KG Logistics\",\"-4\",\"Brisa del Este BV\",\"Fresh Wharf SRL Consulting\",\"Fisherman's Best Marine conservation\",\"Pao gan SE Seal\",\"Yu xian  SRL Industrial\",\"Kong zhong diao yu  Ges.m.b.H.\",\"-4\",\"Lake Tanganyika  Inc Jetty\",\"Mar del Este CJSC\",\"-1203\"],\"hscode\":[\"160414\",\"160529\",\"160414\",\"160529\",\"160510\",\"150430\",\"160414\",\"160521\",\"160529\",\"160529\",\"150430\",\"150430\",\"150430\",\"150430\",\"160414\",\"160414\",\"160521\",\"160414\",\"160414\",\"160414\",\"160420\",\"160414\",\"160521\",\"160414\",\"160414\",\"160414\",\"160521\",\"160414\",\"160414\",\"160510\",\"160529\",\"160521\",\"160521\",\"160414\",\"160414\",\"160521\",\"160414\",\"160414\",\"160414\",\"160414\",\"160414\",\"160540\",\"160414\",\"160553\",\"160510\",\"160521\",\"160521\",\"160414\",\"160414\",\"160414\",\"160414\"],\"Year\":[2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030],\"weights\":[145,104,126,86,102,136,95,91,149,122,169,94,159,194,84,138,164,138,118,105,82,101,108,142,88,240,100,109,138,144,152,252,132,103,217,375,92,757,143,124,86,135,1102,105,103,91,264,88,266,91,181]},\"nodesToDataframe\":true,\"edgesToDataframe\":true,\"options\":{\"width\":\"100%\",\"height\":\"100%\",\"nodes\":{\"shape\":\"dot\",\"physics\":false},\"manipulation\":{\"enabled\":false},\"edges\":{\"arrows\":\"to\",\"smooth\":false},\"physics\":{\"stabilization\":false},\"layout\":{\"randomSeed\":123}},\"groups\":null,\"width\":null,\"height\":null,\"idselection\":{\"enabled\":true,\"style\":\"width: 150px; height: 26px\",\"useLabels\":true,\"main\":\"Select by id\"},\"byselection\":{\"enabled\":false,\"style\":\"width: 150px; height: 26px\",\"multiple\":false,\"hideColor\":\"rgba(200,200,200,0.5)\",\"highlight\":false},\"main\":null,\"submain\":null,\"footer\":null,\"background\":\"rgba(0, 0, 0, 0)\",\"igraphlayout\":{\"type\":\"square\"},\"highlight\":{\"enabled\":true,\"hoverNearest\":false,\"degree\":1,\"algorithm\":\"all\",\"hideColor\":\"rgba(200,200,200,0.5)\",\"labelOnly\":true},\"collapse\":{\"enabled\":false,\"fit\":false,\"resetHighlight\":true,\"clusterOptions\":null,\"keepCoord\":true,\"labelSuffix\":\"(cluster)\"},\"legend\":{\"width\":0.2,\"useGroups\":true,\"position\":\"left\",\"ncol\":1,\"stepX\":100,\"stepY\":100,\"zoom\":true}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n\n\n\n\n\n\nVisualisation and Analysis of attribute - weight\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\n#prep new aggregated edge data\nmc2_edges2_aggregated <- mc2_edges %>%\n  #filter(substr(as.character(hscode), 1, 4) %in% hscodes_filtered) %>%\n  #filter(hscode %in% hscodes_filtered) %>%\n  group_by(source, target, hscode, Year, weightkg) %>%\n    summarise(weights = n()) %>%\n  filter(source!=target) %>%\n  filter(weights > 50) %>%\n  ungroup()\n\n\n# Plot histogram\nhist(mc2_edges2_aggregated$weightkg)\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex02_files/figure-html/unnamed-chunk-22-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "Take-home_Ex02_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../../site_libs/htmlwidgets-1.6.2/htmlwidgets.js\"></script>\r\n<link href=\"../../site_libs/vis-9.1.0/vis-network.min.css\" rel=\"stylesheet\" />\r\n<script src=\"../../site_libs/vis-9.1.0/vis-network.min.js\"></script>\r\n<script src=\"../../site_libs/visNetwork-binding-2.1.2/visNetwork.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}